{"version":3,"file":"static/js/1.4a5eaae1.chunk.js","mappings":"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","sources":["../node_modules/@ledgerhq/devices/src/hid-framing.ts","../node_modules/@ledgerhq/devices/node_modules/lru-cache/index.js","../node_modules/@ledgerhq/devices/node_modules/semver/classes/comparator.js","../node_modules/@ledgerhq/devices/node_modules/semver/classes/range.js","../node_modules/@ledgerhq/devices/node_modules/semver/classes/semver.js","../node_modules/@ledgerhq/devices/node_modules/semver/functions/clean.js","../node_modules/@ledgerhq/devices/node_modules/semver/functions/cmp.js","../node_modules/@ledgerhq/devices/node_modules/semver/functions/coerce.js","../node_modules/@ledgerhq/devices/node_modules/semver/functions/compare-build.js","../node_modules/@ledgerhq/devices/node_modules/semver/functions/compare-loose.js","../node_modules/@ledgerhq/devices/node_modules/semver/functions/compare.js","../node_modules/@ledgerhq/devices/node_modules/semver/functions/diff.js","../node_modules/@ledgerhq/devices/node_modules/semver/functions/eq.js","../node_modules/@ledgerhq/devices/node_modules/semver/functions/gt.js","../node_modules/@ledgerhq/devices/node_modules/semver/functions/gte.js","../node_modules/@ledgerhq/devices/node_modules/semver/functions/inc.js","../node_modules/@ledgerhq/devices/node_modules/semver/functions/lt.js","../node_modules/@ledgerhq/devices/node_modules/semver/functions/lte.js","../node_modules/@ledgerhq/devices/node_modules/semver/functions/major.js","../node_modules/@ledgerhq/devices/node_modules/semver/functions/minor.js","../node_modules/@ledgerhq/devices/node_modules/semver/functions/neq.js","../node_modules/@ledgerhq/devices/node_modules/semver/functions/parse.js","../node_modules/@ledgerhq/devices/node_modules/semver/functions/patch.js","../node_modules/@ledgerhq/devices/node_modules/semver/functions/prerelease.js","../node_modules/@ledgerhq/devices/node_modules/semver/functions/rcompare.js","../node_modules/@ledgerhq/devices/node_modules/semver/functions/rsort.js","../node_modules/@ledgerhq/devices/node_modules/semver/functions/satisfies.js","../node_modules/@ledgerhq/devices/node_modules/semver/functions/sort.js","../node_modules/@ledgerhq/devices/node_modules/semver/functions/valid.js","../node_modules/@ledgerhq/devices/node_modules/semver/index.js","../node_modules/@ledgerhq/devices/node_modules/semver/internal/constants.js","../node_modules/@ledgerhq/devices/node_modules/semver/internal/debug.js","../node_modules/@ledgerhq/devices/node_modules/semver/internal/identifiers.js","../node_modules/@ledgerhq/devices/node_modules/semver/internal/parse-options.js","../node_modules/@ledgerhq/devices/node_modules/semver/internal/re.js","../node_modules/@ledgerhq/devices/node_modules/semver/ranges/gtr.js","../node_modules/@ledgerhq/devices/node_modules/semver/ranges/intersects.js","../node_modules/@ledgerhq/devices/node_modules/semver/ranges/ltr.js","../node_modules/@ledgerhq/devices/node_modules/semver/ranges/max-satisfying.js","../node_modules/@ledgerhq/devices/node_modules/semver/ranges/min-satisfying.js","../node_modules/@ledgerhq/devices/node_modules/semver/ranges/min-version.js","../node_modules/@ledgerhq/devices/node_modules/semver/ranges/outside.js","../node_modules/@ledgerhq/devices/node_modules/semver/ranges/simplify.js","../node_modules/@ledgerhq/devices/node_modules/semver/ranges/subset.js","../node_modules/@ledgerhq/devices/node_modules/semver/ranges/to-comparators.js","../node_modules/@ledgerhq/devices/node_modules/semver/ranges/valid.js","../node_modules/@ledgerhq/logs/src/index.ts","../node_modules/@ledgerhq/hw-transport-webhid/node_modules/@ledgerhq/hw-transport/src/Transport.ts","../node_modules/@ledgerhq/devices/src/index.ts","../node_modules/@ledgerhq/hw-transport-webhid/src/TransportWebHID.ts","../node_modules/process/browser.js","../node_modules/yallist/iterator.js","../node_modules/yallist/yallist.js"],"sourcesContent":["import { TransportError } from \"@ledgerhq/errors\";\nexport type ResponseAcc =\n  | {\n      data: Buffer;\n      dataLength: number;\n      sequence: number;\n    }\n  | null\n  | undefined;\nconst Tag = 0x05;\n\nfunction asUInt16BE(value) {\n  const b = Buffer.alloc(2);\n  b.writeUInt16BE(value, 0);\n  return b;\n}\n\nconst initialAcc = {\n  data: Buffer.alloc(0),\n  dataLength: 0,\n  sequence: 0,\n};\n\n/**\n *\n */\nconst createHIDframing = (channel: number, packetSize: number) => {\n  return {\n    makeBlocks(apdu: Buffer): Buffer[] {\n      let data = Buffer.concat([asUInt16BE(apdu.length), apdu]);\n      const blockSize = packetSize - 5;\n      const nbBlocks = Math.ceil(data.length / blockSize);\n      data = Buffer.concat([\n        data, // fill data with padding\n        Buffer.alloc(nbBlocks * blockSize - data.length + 1).fill(0),\n      ]);\n      const blocks: Buffer[] = [];\n\n      for (let i = 0; i < nbBlocks; i++) {\n        const head = Buffer.alloc(5);\n        head.writeUInt16BE(channel, 0);\n        head.writeUInt8(Tag, 2);\n        head.writeUInt16BE(i, 3);\n        const chunk = data.slice(i * blockSize, (i + 1) * blockSize);\n        blocks.push(Buffer.concat([head, chunk]));\n      }\n\n      return blocks;\n    },\n\n    reduceResponse(acc: ResponseAcc, chunk: Buffer): ResponseAcc {\n      let { data, dataLength, sequence } = acc || initialAcc;\n\n      if (chunk.readUInt16BE(0) !== channel) {\n        throw new TransportError(\"Invalid channel\", \"InvalidChannel\");\n      }\n\n      if (chunk.readUInt8(2) !== Tag) {\n        throw new TransportError(\"Invalid tag\", \"InvalidTag\");\n      }\n\n      if (chunk.readUInt16BE(3) !== sequence) {\n        throw new TransportError(\"Invalid sequence\", \"InvalidSequence\");\n      }\n\n      if (!acc) {\n        dataLength = chunk.readUInt16BE(5);\n      }\n\n      sequence++;\n      const chunkData = chunk.slice(acc ? 5 : 7);\n      data = Buffer.concat([data, chunkData]);\n\n      if (data.length > dataLength) {\n        data = data.slice(0, dataLength);\n      }\n\n      return {\n        data,\n        dataLength,\n        sequence,\n      };\n    },\n\n    getReducedResult(acc: ResponseAcc): Buffer | null | undefined {\n      if (acc && acc.dataLength === acc.data.length) {\n        return acc.data;\n      }\n    },\n  };\n};\n\nexport default createHIDframing;\n","'use strict'\n\n// A linked list to keep track of recently-used-ness\nconst Yallist = require('yallist')\n\nconst MAX = Symbol('max')\nconst LENGTH = Symbol('length')\nconst LENGTH_CALCULATOR = Symbol('lengthCalculator')\nconst ALLOW_STALE = Symbol('allowStale')\nconst MAX_AGE = Symbol('maxAge')\nconst DISPOSE = Symbol('dispose')\nconst NO_DISPOSE_ON_SET = Symbol('noDisposeOnSet')\nconst LRU_LIST = Symbol('lruList')\nconst CACHE = Symbol('cache')\nconst UPDATE_AGE_ON_GET = Symbol('updateAgeOnGet')\n\nconst naiveLength = () => 1\n\n// lruList is a yallist where the head is the youngest\n// item, and the tail is the oldest.  the list contains the Hit\n// objects as the entries.\n// Each Hit object has a reference to its Yallist.Node.  This\n// never changes.\n//\n// cache is a Map (or PseudoMap) that matches the keys to\n// the Yallist.Node object.\nclass LRUCache {\n  constructor (options) {\n    if (typeof options === 'number')\n      options = { max: options }\n\n    if (!options)\n      options = {}\n\n    if (options.max && (typeof options.max !== 'number' || options.max < 0))\n      throw new TypeError('max must be a non-negative number')\n    // Kind of weird to have a default max of Infinity, but oh well.\n    const max = this[MAX] = options.max || Infinity\n\n    const lc = options.length || naiveLength\n    this[LENGTH_CALCULATOR] = (typeof lc !== 'function') ? naiveLength : lc\n    this[ALLOW_STALE] = options.stale || false\n    if (options.maxAge && typeof options.maxAge !== 'number')\n      throw new TypeError('maxAge must be a number')\n    this[MAX_AGE] = options.maxAge || 0\n    this[DISPOSE] = options.dispose\n    this[NO_DISPOSE_ON_SET] = options.noDisposeOnSet || false\n    this[UPDATE_AGE_ON_GET] = options.updateAgeOnGet || false\n    this.reset()\n  }\n\n  // resize the cache when the max changes.\n  set max (mL) {\n    if (typeof mL !== 'number' || mL < 0)\n      throw new TypeError('max must be a non-negative number')\n\n    this[MAX] = mL || Infinity\n    trim(this)\n  }\n  get max () {\n    return this[MAX]\n  }\n\n  set allowStale (allowStale) {\n    this[ALLOW_STALE] = !!allowStale\n  }\n  get allowStale () {\n    return this[ALLOW_STALE]\n  }\n\n  set maxAge (mA) {\n    if (typeof mA !== 'number')\n      throw new TypeError('maxAge must be a non-negative number')\n\n    this[MAX_AGE] = mA\n    trim(this)\n  }\n  get maxAge () {\n    return this[MAX_AGE]\n  }\n\n  // resize the cache when the lengthCalculator changes.\n  set lengthCalculator (lC) {\n    if (typeof lC !== 'function')\n      lC = naiveLength\n\n    if (lC !== this[LENGTH_CALCULATOR]) {\n      this[LENGTH_CALCULATOR] = lC\n      this[LENGTH] = 0\n      this[LRU_LIST].forEach(hit => {\n        hit.length = this[LENGTH_CALCULATOR](hit.value, hit.key)\n        this[LENGTH] += hit.length\n      })\n    }\n    trim(this)\n  }\n  get lengthCalculator () { return this[LENGTH_CALCULATOR] }\n\n  get length () { return this[LENGTH] }\n  get itemCount () { return this[LRU_LIST].length }\n\n  rforEach (fn, thisp) {\n    thisp = thisp || this\n    for (let walker = this[LRU_LIST].tail; walker !== null;) {\n      const prev = walker.prev\n      forEachStep(this, fn, walker, thisp)\n      walker = prev\n    }\n  }\n\n  forEach (fn, thisp) {\n    thisp = thisp || this\n    for (let walker = this[LRU_LIST].head; walker !== null;) {\n      const next = walker.next\n      forEachStep(this, fn, walker, thisp)\n      walker = next\n    }\n  }\n\n  keys () {\n    return this[LRU_LIST].toArray().map(k => k.key)\n  }\n\n  values () {\n    return this[LRU_LIST].toArray().map(k => k.value)\n  }\n\n  reset () {\n    if (this[DISPOSE] &&\n        this[LRU_LIST] &&\n        this[LRU_LIST].length) {\n      this[LRU_LIST].forEach(hit => this[DISPOSE](hit.key, hit.value))\n    }\n\n    this[CACHE] = new Map() // hash of items by key\n    this[LRU_LIST] = new Yallist() // list of items in order of use recency\n    this[LENGTH] = 0 // length of items in the list\n  }\n\n  dump () {\n    return this[LRU_LIST].map(hit =>\n      isStale(this, hit) ? false : {\n        k: hit.key,\n        v: hit.value,\n        e: hit.now + (hit.maxAge || 0)\n      }).toArray().filter(h => h)\n  }\n\n  dumpLru () {\n    return this[LRU_LIST]\n  }\n\n  set (key, value, maxAge) {\n    maxAge = maxAge || this[MAX_AGE]\n\n    if (maxAge && typeof maxAge !== 'number')\n      throw new TypeError('maxAge must be a number')\n\n    const now = maxAge ? Date.now() : 0\n    const len = this[LENGTH_CALCULATOR](value, key)\n\n    if (this[CACHE].has(key)) {\n      if (len > this[MAX]) {\n        del(this, this[CACHE].get(key))\n        return false\n      }\n\n      const node = this[CACHE].get(key)\n      const item = node.value\n\n      // dispose of the old one before overwriting\n      // split out into 2 ifs for better coverage tracking\n      if (this[DISPOSE]) {\n        if (!this[NO_DISPOSE_ON_SET])\n          this[DISPOSE](key, item.value)\n      }\n\n      item.now = now\n      item.maxAge = maxAge\n      item.value = value\n      this[LENGTH] += len - item.length\n      item.length = len\n      this.get(key)\n      trim(this)\n      return true\n    }\n\n    const hit = new Entry(key, value, len, now, maxAge)\n\n    // oversized objects fall out of cache automatically.\n    if (hit.length > this[MAX]) {\n      if (this[DISPOSE])\n        this[DISPOSE](key, value)\n\n      return false\n    }\n\n    this[LENGTH] += hit.length\n    this[LRU_LIST].unshift(hit)\n    this[CACHE].set(key, this[LRU_LIST].head)\n    trim(this)\n    return true\n  }\n\n  has (key) {\n    if (!this[CACHE].has(key)) return false\n    const hit = this[CACHE].get(key).value\n    return !isStale(this, hit)\n  }\n\n  get (key) {\n    return get(this, key, true)\n  }\n\n  peek (key) {\n    return get(this, key, false)\n  }\n\n  pop () {\n    const node = this[LRU_LIST].tail\n    if (!node)\n      return null\n\n    del(this, node)\n    return node.value\n  }\n\n  del (key) {\n    del(this, this[CACHE].get(key))\n  }\n\n  load (arr) {\n    // reset the cache\n    this.reset()\n\n    const now = Date.now()\n    // A previous serialized cache has the most recent items first\n    for (let l = arr.length - 1; l >= 0; l--) {\n      const hit = arr[l]\n      const expiresAt = hit.e || 0\n      if (expiresAt === 0)\n        // the item was created without expiration in a non aged cache\n        this.set(hit.k, hit.v)\n      else {\n        const maxAge = expiresAt - now\n        // dont add already expired items\n        if (maxAge > 0) {\n          this.set(hit.k, hit.v, maxAge)\n        }\n      }\n    }\n  }\n\n  prune () {\n    this[CACHE].forEach((value, key) => get(this, key, false))\n  }\n}\n\nconst get = (self, key, doUse) => {\n  const node = self[CACHE].get(key)\n  if (node) {\n    const hit = node.value\n    if (isStale(self, hit)) {\n      del(self, node)\n      if (!self[ALLOW_STALE])\n        return undefined\n    } else {\n      if (doUse) {\n        if (self[UPDATE_AGE_ON_GET])\n          node.value.now = Date.now()\n        self[LRU_LIST].unshiftNode(node)\n      }\n    }\n    return hit.value\n  }\n}\n\nconst isStale = (self, hit) => {\n  if (!hit || (!hit.maxAge && !self[MAX_AGE]))\n    return false\n\n  const diff = Date.now() - hit.now\n  return hit.maxAge ? diff > hit.maxAge\n    : self[MAX_AGE] && (diff > self[MAX_AGE])\n}\n\nconst trim = self => {\n  if (self[LENGTH] > self[MAX]) {\n    for (let walker = self[LRU_LIST].tail;\n      self[LENGTH] > self[MAX] && walker !== null;) {\n      // We know that we're about to delete this one, and also\n      // what the next least recently used key will be, so just\n      // go ahead and set it now.\n      const prev = walker.prev\n      del(self, walker)\n      walker = prev\n    }\n  }\n}\n\nconst del = (self, node) => {\n  if (node) {\n    const hit = node.value\n    if (self[DISPOSE])\n      self[DISPOSE](hit.key, hit.value)\n\n    self[LENGTH] -= hit.length\n    self[CACHE].delete(hit.key)\n    self[LRU_LIST].removeNode(node)\n  }\n}\n\nclass Entry {\n  constructor (key, value, length, now, maxAge) {\n    this.key = key\n    this.value = value\n    this.length = length\n    this.now = now\n    this.maxAge = maxAge || 0\n  }\n}\n\nconst forEachStep = (self, fn, node, thisp) => {\n  let hit = node.value\n  if (isStale(self, hit)) {\n    del(self, node)\n    if (!self[ALLOW_STALE])\n      hit = undefined\n  }\n  if (hit)\n    fn.call(thisp, hit.value, hit.key, self)\n}\n\nmodule.exports = LRUCache\n","const ANY = Symbol('SemVer ANY')\n// hoisted class for cyclic dependency\nclass Comparator {\n  static get ANY () {\n    return ANY\n  }\n\n  constructor (comp, options) {\n    options = parseOptions(options)\n\n    if (comp instanceof Comparator) {\n      if (comp.loose === !!options.loose) {\n        return comp\n      } else {\n        comp = comp.value\n      }\n    }\n\n    comp = comp.trim().split(/\\s+/).join(' ')\n    debug('comparator', comp, options)\n    this.options = options\n    this.loose = !!options.loose\n    this.parse(comp)\n\n    if (this.semver === ANY) {\n      this.value = ''\n    } else {\n      this.value = this.operator + this.semver.version\n    }\n\n    debug('comp', this)\n  }\n\n  parse (comp) {\n    const r = this.options.loose ? re[t.COMPARATORLOOSE] : re[t.COMPARATOR]\n    const m = comp.match(r)\n\n    if (!m) {\n      throw new TypeError(`Invalid comparator: ${comp}`)\n    }\n\n    this.operator = m[1] !== undefined ? m[1] : ''\n    if (this.operator === '=') {\n      this.operator = ''\n    }\n\n    // if it literally is just '>' or '' then allow anything.\n    if (!m[2]) {\n      this.semver = ANY\n    } else {\n      this.semver = new SemVer(m[2], this.options.loose)\n    }\n  }\n\n  toString () {\n    return this.value\n  }\n\n  test (version) {\n    debug('Comparator.test', version, this.options.loose)\n\n    if (this.semver === ANY || version === ANY) {\n      return true\n    }\n\n    if (typeof version === 'string') {\n      try {\n        version = new SemVer(version, this.options)\n      } catch (er) {\n        return false\n      }\n    }\n\n    return cmp(version, this.operator, this.semver, this.options)\n  }\n\n  intersects (comp, options) {\n    if (!(comp instanceof Comparator)) {\n      throw new TypeError('a Comparator is required')\n    }\n\n    if (this.operator === '') {\n      if (this.value === '') {\n        return true\n      }\n      return new Range(comp.value, options).test(this.value)\n    } else if (comp.operator === '') {\n      if (comp.value === '') {\n        return true\n      }\n      return new Range(this.value, options).test(comp.semver)\n    }\n\n    options = parseOptions(options)\n\n    // Special cases where nothing can possibly be lower\n    if (options.includePrerelease &&\n      (this.value === '<0.0.0-0' || comp.value === '<0.0.0-0')) {\n      return false\n    }\n    if (!options.includePrerelease &&\n      (this.value.startsWith('<0.0.0') || comp.value.startsWith('<0.0.0'))) {\n      return false\n    }\n\n    // Same direction increasing (> or >=)\n    if (this.operator.startsWith('>') && comp.operator.startsWith('>')) {\n      return true\n    }\n    // Same direction decreasing (< or <=)\n    if (this.operator.startsWith('<') && comp.operator.startsWith('<')) {\n      return true\n    }\n    // same SemVer and both sides are inclusive (<= or >=)\n    if (\n      (this.semver.version === comp.semver.version) &&\n      this.operator.includes('=') && comp.operator.includes('=')) {\n      return true\n    }\n    // opposite directions less than\n    if (cmp(this.semver, '<', comp.semver, options) &&\n      this.operator.startsWith('>') && comp.operator.startsWith('<')) {\n      return true\n    }\n    // opposite directions greater than\n    if (cmp(this.semver, '>', comp.semver, options) &&\n      this.operator.startsWith('<') && comp.operator.startsWith('>')) {\n      return true\n    }\n    return false\n  }\n}\n\nmodule.exports = Comparator\n\nconst parseOptions = require('../internal/parse-options')\nconst { safeRe: re, t } = require('../internal/re')\nconst cmp = require('../functions/cmp')\nconst debug = require('../internal/debug')\nconst SemVer = require('./semver')\nconst Range = require('./range')\n","// hoisted class for cyclic dependency\nclass Range {\n  constructor (range, options) {\n    options = parseOptions(options)\n\n    if (range instanceof Range) {\n      if (\n        range.loose === !!options.loose &&\n        range.includePrerelease === !!options.includePrerelease\n      ) {\n        return range\n      } else {\n        return new Range(range.raw, options)\n      }\n    }\n\n    if (range instanceof Comparator) {\n      // just put it in the set and return\n      this.raw = range.value\n      this.set = [[range]]\n      this.format()\n      return this\n    }\n\n    this.options = options\n    this.loose = !!options.loose\n    this.includePrerelease = !!options.includePrerelease\n\n    // First reduce all whitespace as much as possible so we do not have to rely\n    // on potentially slow regexes like \\s*. This is then stored and used for\n    // future error messages as well.\n    this.raw = range\n      .trim()\n      .split(/\\s+/)\n      .join(' ')\n\n    // First, split on ||\n    this.set = this.raw\n      .split('||')\n      // map the range to a 2d array of comparators\n      .map(r => this.parseRange(r.trim()))\n      // throw out any comparator lists that are empty\n      // this generally means that it was not a valid range, which is allowed\n      // in loose mode, but will still throw if the WHOLE range is invalid.\n      .filter(c => c.length)\n\n    if (!this.set.length) {\n      throw new TypeError(`Invalid SemVer Range: ${this.raw}`)\n    }\n\n    // if we have any that are not the null set, throw out null sets.\n    if (this.set.length > 1) {\n      // keep the first one, in case they're all null sets\n      const first = this.set[0]\n      this.set = this.set.filter(c => !isNullSet(c[0]))\n      if (this.set.length === 0) {\n        this.set = [first]\n      } else if (this.set.length > 1) {\n        // if we have any that are *, then the range is just *\n        for (const c of this.set) {\n          if (c.length === 1 && isAny(c[0])) {\n            this.set = [c]\n            break\n          }\n        }\n      }\n    }\n\n    this.format()\n  }\n\n  format () {\n    this.range = this.set\n      .map((comps) => comps.join(' ').trim())\n      .join('||')\n      .trim()\n    return this.range\n  }\n\n  toString () {\n    return this.range\n  }\n\n  parseRange (range) {\n    // memoize range parsing for performance.\n    // this is a very hot path, and fully deterministic.\n    const memoOpts =\n      (this.options.includePrerelease && FLAG_INCLUDE_PRERELEASE) |\n      (this.options.loose && FLAG_LOOSE)\n    const memoKey = memoOpts + ':' + range\n    const cached = cache.get(memoKey)\n    if (cached) {\n      return cached\n    }\n\n    const loose = this.options.loose\n    // `1.2.3 - 1.2.4` => `>=1.2.3 <=1.2.4`\n    const hr = loose ? re[t.HYPHENRANGELOOSE] : re[t.HYPHENRANGE]\n    range = range.replace(hr, hyphenReplace(this.options.includePrerelease))\n    debug('hyphen replace', range)\n\n    // `> 1.2.3 < 1.2.5` => `>1.2.3 <1.2.5`\n    range = range.replace(re[t.COMPARATORTRIM], comparatorTrimReplace)\n    debug('comparator trim', range)\n\n    // `~ 1.2.3` => `~1.2.3`\n    range = range.replace(re[t.TILDETRIM], tildeTrimReplace)\n    debug('tilde trim', range)\n\n    // `^ 1.2.3` => `^1.2.3`\n    range = range.replace(re[t.CARETTRIM], caretTrimReplace)\n    debug('caret trim', range)\n\n    // At this point, the range is completely trimmed and\n    // ready to be split into comparators.\n\n    let rangeList = range\n      .split(' ')\n      .map(comp => parseComparator(comp, this.options))\n      .join(' ')\n      .split(/\\s+/)\n      // >=0.0.0 is equivalent to *\n      .map(comp => replaceGTE0(comp, this.options))\n\n    if (loose) {\n      // in loose mode, throw out any that are not valid comparators\n      rangeList = rangeList.filter(comp => {\n        debug('loose invalid filter', comp, this.options)\n        return !!comp.match(re[t.COMPARATORLOOSE])\n      })\n    }\n    debug('range list', rangeList)\n\n    // if any comparators are the null set, then replace with JUST null set\n    // if more than one comparator, remove any * comparators\n    // also, don't include the same comparator more than once\n    const rangeMap = new Map()\n    const comparators = rangeList.map(comp => new Comparator(comp, this.options))\n    for (const comp of comparators) {\n      if (isNullSet(comp)) {\n        return [comp]\n      }\n      rangeMap.set(comp.value, comp)\n    }\n    if (rangeMap.size > 1 && rangeMap.has('')) {\n      rangeMap.delete('')\n    }\n\n    const result = [...rangeMap.values()]\n    cache.set(memoKey, result)\n    return result\n  }\n\n  intersects (range, options) {\n    if (!(range instanceof Range)) {\n      throw new TypeError('a Range is required')\n    }\n\n    return this.set.some((thisComparators) => {\n      return (\n        isSatisfiable(thisComparators, options) &&\n        range.set.some((rangeComparators) => {\n          return (\n            isSatisfiable(rangeComparators, options) &&\n            thisComparators.every((thisComparator) => {\n              return rangeComparators.every((rangeComparator) => {\n                return thisComparator.intersects(rangeComparator, options)\n              })\n            })\n          )\n        })\n      )\n    })\n  }\n\n  // if ANY of the sets match ALL of its comparators, then pass\n  test (version) {\n    if (!version) {\n      return false\n    }\n\n    if (typeof version === 'string') {\n      try {\n        version = new SemVer(version, this.options)\n      } catch (er) {\n        return false\n      }\n    }\n\n    for (let i = 0; i < this.set.length; i++) {\n      if (testSet(this.set[i], version, this.options)) {\n        return true\n      }\n    }\n    return false\n  }\n}\n\nmodule.exports = Range\n\nconst LRU = require('lru-cache')\nconst cache = new LRU({ max: 1000 })\n\nconst parseOptions = require('../internal/parse-options')\nconst Comparator = require('./comparator')\nconst debug = require('../internal/debug')\nconst SemVer = require('./semver')\nconst {\n  safeRe: re,\n  t,\n  comparatorTrimReplace,\n  tildeTrimReplace,\n  caretTrimReplace,\n} = require('../internal/re')\nconst { FLAG_INCLUDE_PRERELEASE, FLAG_LOOSE } = require('../internal/constants')\n\nconst isNullSet = c => c.value === '<0.0.0-0'\nconst isAny = c => c.value === ''\n\n// take a set of comparators and determine whether there\n// exists a version which can satisfy it\nconst isSatisfiable = (comparators, options) => {\n  let result = true\n  const remainingComparators = comparators.slice()\n  let testComparator = remainingComparators.pop()\n\n  while (result && remainingComparators.length) {\n    result = remainingComparators.every((otherComparator) => {\n      return testComparator.intersects(otherComparator, options)\n    })\n\n    testComparator = remainingComparators.pop()\n  }\n\n  return result\n}\n\n// comprised of xranges, tildes, stars, and gtlt's at this point.\n// already replaced the hyphen ranges\n// turn into a set of JUST comparators.\nconst parseComparator = (comp, options) => {\n  debug('comp', comp, options)\n  comp = replaceCarets(comp, options)\n  debug('caret', comp)\n  comp = replaceTildes(comp, options)\n  debug('tildes', comp)\n  comp = replaceXRanges(comp, options)\n  debug('xrange', comp)\n  comp = replaceStars(comp, options)\n  debug('stars', comp)\n  return comp\n}\n\nconst isX = id => !id || id.toLowerCase() === 'x' || id === '*'\n\n// ~, ~> --> * (any, kinda silly)\n// ~2, ~2.x, ~2.x.x, ~>2, ~>2.x ~>2.x.x --> >=2.0.0 <3.0.0-0\n// ~2.0, ~2.0.x, ~>2.0, ~>2.0.x --> >=2.0.0 <2.1.0-0\n// ~1.2, ~1.2.x, ~>1.2, ~>1.2.x --> >=1.2.0 <1.3.0-0\n// ~1.2.3, ~>1.2.3 --> >=1.2.3 <1.3.0-0\n// ~1.2.0, ~>1.2.0 --> >=1.2.0 <1.3.0-0\n// ~0.0.1 --> >=0.0.1 <0.1.0-0\nconst replaceTildes = (comp, options) => {\n  return comp\n    .trim()\n    .split(/\\s+/)\n    .map((c) => replaceTilde(c, options))\n    .join(' ')\n}\n\nconst replaceTilde = (comp, options) => {\n  const r = options.loose ? re[t.TILDELOOSE] : re[t.TILDE]\n  return comp.replace(r, (_, M, m, p, pr) => {\n    debug('tilde', comp, _, M, m, p, pr)\n    let ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = `>=${M}.0.0 <${+M + 1}.0.0-0`\n    } else if (isX(p)) {\n      // ~1.2 == >=1.2.0 <1.3.0-0\n      ret = `>=${M}.${m}.0 <${M}.${+m + 1}.0-0`\n    } else if (pr) {\n      debug('replaceTilde pr', pr)\n      ret = `>=${M}.${m}.${p}-${pr\n      } <${M}.${+m + 1}.0-0`\n    } else {\n      // ~1.2.3 == >=1.2.3 <1.3.0-0\n      ret = `>=${M}.${m}.${p\n      } <${M}.${+m + 1}.0-0`\n    }\n\n    debug('tilde return', ret)\n    return ret\n  })\n}\n\n// ^ --> * (any, kinda silly)\n// ^2, ^2.x, ^2.x.x --> >=2.0.0 <3.0.0-0\n// ^2.0, ^2.0.x --> >=2.0.0 <3.0.0-0\n// ^1.2, ^1.2.x --> >=1.2.0 <2.0.0-0\n// ^1.2.3 --> >=1.2.3 <2.0.0-0\n// ^1.2.0 --> >=1.2.0 <2.0.0-0\n// ^0.0.1 --> >=0.0.1 <0.0.2-0\n// ^0.1.0 --> >=0.1.0 <0.2.0-0\nconst replaceCarets = (comp, options) => {\n  return comp\n    .trim()\n    .split(/\\s+/)\n    .map((c) => replaceCaret(c, options))\n    .join(' ')\n}\n\nconst replaceCaret = (comp, options) => {\n  debug('caret', comp, options)\n  const r = options.loose ? re[t.CARETLOOSE] : re[t.CARET]\n  const z = options.includePrerelease ? '-0' : ''\n  return comp.replace(r, (_, M, m, p, pr) => {\n    debug('caret', comp, _, M, m, p, pr)\n    let ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = `>=${M}.0.0${z} <${+M + 1}.0.0-0`\n    } else if (isX(p)) {\n      if (M === '0') {\n        ret = `>=${M}.${m}.0${z} <${M}.${+m + 1}.0-0`\n      } else {\n        ret = `>=${M}.${m}.0${z} <${+M + 1}.0.0-0`\n      }\n    } else if (pr) {\n      debug('replaceCaret pr', pr)\n      if (M === '0') {\n        if (m === '0') {\n          ret = `>=${M}.${m}.${p}-${pr\n          } <${M}.${m}.${+p + 1}-0`\n        } else {\n          ret = `>=${M}.${m}.${p}-${pr\n          } <${M}.${+m + 1}.0-0`\n        }\n      } else {\n        ret = `>=${M}.${m}.${p}-${pr\n        } <${+M + 1}.0.0-0`\n      }\n    } else {\n      debug('no pr')\n      if (M === '0') {\n        if (m === '0') {\n          ret = `>=${M}.${m}.${p\n          }${z} <${M}.${m}.${+p + 1}-0`\n        } else {\n          ret = `>=${M}.${m}.${p\n          }${z} <${M}.${+m + 1}.0-0`\n        }\n      } else {\n        ret = `>=${M}.${m}.${p\n        } <${+M + 1}.0.0-0`\n      }\n    }\n\n    debug('caret return', ret)\n    return ret\n  })\n}\n\nconst replaceXRanges = (comp, options) => {\n  debug('replaceXRanges', comp, options)\n  return comp\n    .split(/\\s+/)\n    .map((c) => replaceXRange(c, options))\n    .join(' ')\n}\n\nconst replaceXRange = (comp, options) => {\n  comp = comp.trim()\n  const r = options.loose ? re[t.XRANGELOOSE] : re[t.XRANGE]\n  return comp.replace(r, (ret, gtlt, M, m, p, pr) => {\n    debug('xRange', comp, ret, gtlt, M, m, p, pr)\n    const xM = isX(M)\n    const xm = xM || isX(m)\n    const xp = xm || isX(p)\n    const anyX = xp\n\n    if (gtlt === '=' && anyX) {\n      gtlt = ''\n    }\n\n    // if we're including prereleases in the match, then we need\n    // to fix this to -0, the lowest possible prerelease value\n    pr = options.includePrerelease ? '-0' : ''\n\n    if (xM) {\n      if (gtlt === '>' || gtlt === '<') {\n        // nothing is allowed\n        ret = '<0.0.0-0'\n      } else {\n        // nothing is forbidden\n        ret = '*'\n      }\n    } else if (gtlt && anyX) {\n      // we know patch is an x, because we have any x at all.\n      // replace X with 0\n      if (xm) {\n        m = 0\n      }\n      p = 0\n\n      if (gtlt === '>') {\n        // >1 => >=2.0.0\n        // >1.2 => >=1.3.0\n        gtlt = '>='\n        if (xm) {\n          M = +M + 1\n          m = 0\n          p = 0\n        } else {\n          m = +m + 1\n          p = 0\n        }\n      } else if (gtlt === '<=') {\n        // <=0.7.x is actually <0.8.0, since any 0.7.x should\n        // pass.  Similarly, <=7.x is actually <8.0.0, etc.\n        gtlt = '<'\n        if (xm) {\n          M = +M + 1\n        } else {\n          m = +m + 1\n        }\n      }\n\n      if (gtlt === '<') {\n        pr = '-0'\n      }\n\n      ret = `${gtlt + M}.${m}.${p}${pr}`\n    } else if (xm) {\n      ret = `>=${M}.0.0${pr} <${+M + 1}.0.0-0`\n    } else if (xp) {\n      ret = `>=${M}.${m}.0${pr\n      } <${M}.${+m + 1}.0-0`\n    }\n\n    debug('xRange return', ret)\n\n    return ret\n  })\n}\n\n// Because * is AND-ed with everything else in the comparator,\n// and '' means \"any version\", just remove the *s entirely.\nconst replaceStars = (comp, options) => {\n  debug('replaceStars', comp, options)\n  // Looseness is ignored here.  star is always as loose as it gets!\n  return comp\n    .trim()\n    .replace(re[t.STAR], '')\n}\n\nconst replaceGTE0 = (comp, options) => {\n  debug('replaceGTE0', comp, options)\n  return comp\n    .trim()\n    .replace(re[options.includePrerelease ? t.GTE0PRE : t.GTE0], '')\n}\n\n// This function is passed to string.replace(re[t.HYPHENRANGE])\n// M, m, patch, prerelease, build\n// 1.2 - 3.4.5 => >=1.2.0 <=3.4.5\n// 1.2.3 - 3.4 => >=1.2.0 <3.5.0-0 Any 3.4.x will do\n// 1.2 - 3.4 => >=1.2.0 <3.5.0-0\nconst hyphenReplace = incPr => ($0,\n  from, fM, fm, fp, fpr, fb,\n  to, tM, tm, tp, tpr, tb) => {\n  if (isX(fM)) {\n    from = ''\n  } else if (isX(fm)) {\n    from = `>=${fM}.0.0${incPr ? '-0' : ''}`\n  } else if (isX(fp)) {\n    from = `>=${fM}.${fm}.0${incPr ? '-0' : ''}`\n  } else if (fpr) {\n    from = `>=${from}`\n  } else {\n    from = `>=${from}${incPr ? '-0' : ''}`\n  }\n\n  if (isX(tM)) {\n    to = ''\n  } else if (isX(tm)) {\n    to = `<${+tM + 1}.0.0-0`\n  } else if (isX(tp)) {\n    to = `<${tM}.${+tm + 1}.0-0`\n  } else if (tpr) {\n    to = `<=${tM}.${tm}.${tp}-${tpr}`\n  } else if (incPr) {\n    to = `<${tM}.${tm}.${+tp + 1}-0`\n  } else {\n    to = `<=${to}`\n  }\n\n  return `${from} ${to}`.trim()\n}\n\nconst testSet = (set, version, options) => {\n  for (let i = 0; i < set.length; i++) {\n    if (!set[i].test(version)) {\n      return false\n    }\n  }\n\n  if (version.prerelease.length && !options.includePrerelease) {\n    // Find the set of versions that are allowed to have prereleases\n    // For example, ^1.2.3-pr.1 desugars to >=1.2.3-pr.1 <2.0.0\n    // That should allow `1.2.3-pr.2` to pass.\n    // However, `1.2.4-alpha.notready` should NOT be allowed,\n    // even though it's within the range set by the comparators.\n    for (let i = 0; i < set.length; i++) {\n      debug(set[i].semver)\n      if (set[i].semver === Comparator.ANY) {\n        continue\n      }\n\n      if (set[i].semver.prerelease.length > 0) {\n        const allowed = set[i].semver\n        if (allowed.major === version.major &&\n            allowed.minor === version.minor &&\n            allowed.patch === version.patch) {\n          return true\n        }\n      }\n    }\n\n    // Version has a -pre, but it's not one of the ones we like.\n    return false\n  }\n\n  return true\n}\n","const debug = require('../internal/debug')\nconst { MAX_LENGTH, MAX_SAFE_INTEGER } = require('../internal/constants')\nconst { safeRe: re, t } = require('../internal/re')\n\nconst parseOptions = require('../internal/parse-options')\nconst { compareIdentifiers } = require('../internal/identifiers')\nclass SemVer {\n  constructor (version, options) {\n    options = parseOptions(options)\n\n    if (version instanceof SemVer) {\n      if (version.loose === !!options.loose &&\n          version.includePrerelease === !!options.includePrerelease) {\n        return version\n      } else {\n        version = version.version\n      }\n    } else if (typeof version !== 'string') {\n      throw new TypeError(`Invalid version. Must be a string. Got type \"${typeof version}\".`)\n    }\n\n    if (version.length > MAX_LENGTH) {\n      throw new TypeError(\n        `version is longer than ${MAX_LENGTH} characters`\n      )\n    }\n\n    debug('SemVer', version, options)\n    this.options = options\n    this.loose = !!options.loose\n    // this isn't actually relevant for versions, but keep it so that we\n    // don't run into trouble passing this.options around.\n    this.includePrerelease = !!options.includePrerelease\n\n    const m = version.trim().match(options.loose ? re[t.LOOSE] : re[t.FULL])\n\n    if (!m) {\n      throw new TypeError(`Invalid Version: ${version}`)\n    }\n\n    this.raw = version\n\n    // these are actually numbers\n    this.major = +m[1]\n    this.minor = +m[2]\n    this.patch = +m[3]\n\n    if (this.major > MAX_SAFE_INTEGER || this.major < 0) {\n      throw new TypeError('Invalid major version')\n    }\n\n    if (this.minor > MAX_SAFE_INTEGER || this.minor < 0) {\n      throw new TypeError('Invalid minor version')\n    }\n\n    if (this.patch > MAX_SAFE_INTEGER || this.patch < 0) {\n      throw new TypeError('Invalid patch version')\n    }\n\n    // numberify any prerelease numeric ids\n    if (!m[4]) {\n      this.prerelease = []\n    } else {\n      this.prerelease = m[4].split('.').map((id) => {\n        if (/^[0-9]+$/.test(id)) {\n          const num = +id\n          if (num >= 0 && num < MAX_SAFE_INTEGER) {\n            return num\n          }\n        }\n        return id\n      })\n    }\n\n    this.build = m[5] ? m[5].split('.') : []\n    this.format()\n  }\n\n  format () {\n    this.version = `${this.major}.${this.minor}.${this.patch}`\n    if (this.prerelease.length) {\n      this.version += `-${this.prerelease.join('.')}`\n    }\n    return this.version\n  }\n\n  toString () {\n    return this.version\n  }\n\n  compare (other) {\n    debug('SemVer.compare', this.version, this.options, other)\n    if (!(other instanceof SemVer)) {\n      if (typeof other === 'string' && other === this.version) {\n        return 0\n      }\n      other = new SemVer(other, this.options)\n    }\n\n    if (other.version === this.version) {\n      return 0\n    }\n\n    return this.compareMain(other) || this.comparePre(other)\n  }\n\n  compareMain (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    return (\n      compareIdentifiers(this.major, other.major) ||\n      compareIdentifiers(this.minor, other.minor) ||\n      compareIdentifiers(this.patch, other.patch)\n    )\n  }\n\n  comparePre (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    // NOT having a prerelease is > having one\n    if (this.prerelease.length && !other.prerelease.length) {\n      return -1\n    } else if (!this.prerelease.length && other.prerelease.length) {\n      return 1\n    } else if (!this.prerelease.length && !other.prerelease.length) {\n      return 0\n    }\n\n    let i = 0\n    do {\n      const a = this.prerelease[i]\n      const b = other.prerelease[i]\n      debug('prerelease compare', i, a, b)\n      if (a === undefined && b === undefined) {\n        return 0\n      } else if (b === undefined) {\n        return 1\n      } else if (a === undefined) {\n        return -1\n      } else if (a === b) {\n        continue\n      } else {\n        return compareIdentifiers(a, b)\n      }\n    } while (++i)\n  }\n\n  compareBuild (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    let i = 0\n    do {\n      const a = this.build[i]\n      const b = other.build[i]\n      debug('prerelease compare', i, a, b)\n      if (a === undefined && b === undefined) {\n        return 0\n      } else if (b === undefined) {\n        return 1\n      } else if (a === undefined) {\n        return -1\n      } else if (a === b) {\n        continue\n      } else {\n        return compareIdentifiers(a, b)\n      }\n    } while (++i)\n  }\n\n  // preminor will bump the version up to the next minor release, and immediately\n  // down to pre-release. premajor and prepatch work the same way.\n  inc (release, identifier, identifierBase) {\n    switch (release) {\n      case 'premajor':\n        this.prerelease.length = 0\n        this.patch = 0\n        this.minor = 0\n        this.major++\n        this.inc('pre', identifier, identifierBase)\n        break\n      case 'preminor':\n        this.prerelease.length = 0\n        this.patch = 0\n        this.minor++\n        this.inc('pre', identifier, identifierBase)\n        break\n      case 'prepatch':\n        // If this is already a prerelease, it will bump to the next version\n        // drop any prereleases that might already exist, since they are not\n        // relevant at this point.\n        this.prerelease.length = 0\n        this.inc('patch', identifier, identifierBase)\n        this.inc('pre', identifier, identifierBase)\n        break\n      // If the input is a non-prerelease version, this acts the same as\n      // prepatch.\n      case 'prerelease':\n        if (this.prerelease.length === 0) {\n          this.inc('patch', identifier, identifierBase)\n        }\n        this.inc('pre', identifier, identifierBase)\n        break\n\n      case 'major':\n        // If this is a pre-major version, bump up to the same major version.\n        // Otherwise increment major.\n        // 1.0.0-5 bumps to 1.0.0\n        // 1.1.0 bumps to 2.0.0\n        if (\n          this.minor !== 0 ||\n          this.patch !== 0 ||\n          this.prerelease.length === 0\n        ) {\n          this.major++\n        }\n        this.minor = 0\n        this.patch = 0\n        this.prerelease = []\n        break\n      case 'minor':\n        // If this is a pre-minor version, bump up to the same minor version.\n        // Otherwise increment minor.\n        // 1.2.0-5 bumps to 1.2.0\n        // 1.2.1 bumps to 1.3.0\n        if (this.patch !== 0 || this.prerelease.length === 0) {\n          this.minor++\n        }\n        this.patch = 0\n        this.prerelease = []\n        break\n      case 'patch':\n        // If this is not a pre-release version, it will increment the patch.\n        // If it is a pre-release it will bump up to the same patch version.\n        // 1.2.0-5 patches to 1.2.0\n        // 1.2.0 patches to 1.2.1\n        if (this.prerelease.length === 0) {\n          this.patch++\n        }\n        this.prerelease = []\n        break\n      // This probably shouldn't be used publicly.\n      // 1.0.0 'pre' would become 1.0.0-0 which is the wrong direction.\n      case 'pre': {\n        const base = Number(identifierBase) ? 1 : 0\n\n        if (!identifier && identifierBase === false) {\n          throw new Error('invalid increment argument: identifier is empty')\n        }\n\n        if (this.prerelease.length === 0) {\n          this.prerelease = [base]\n        } else {\n          let i = this.prerelease.length\n          while (--i >= 0) {\n            if (typeof this.prerelease[i] === 'number') {\n              this.prerelease[i]++\n              i = -2\n            }\n          }\n          if (i === -1) {\n            // didn't increment anything\n            if (identifier === this.prerelease.join('.') && identifierBase === false) {\n              throw new Error('invalid increment argument: identifier already exists')\n            }\n            this.prerelease.push(base)\n          }\n        }\n        if (identifier) {\n          // 1.2.0-beta.1 bumps to 1.2.0-beta.2,\n          // 1.2.0-beta.fooblz or 1.2.0-beta bumps to 1.2.0-beta.0\n          let prerelease = [identifier, base]\n          if (identifierBase === false) {\n            prerelease = [identifier]\n          }\n          if (compareIdentifiers(this.prerelease[0], identifier) === 0) {\n            if (isNaN(this.prerelease[1])) {\n              this.prerelease = prerelease\n            }\n          } else {\n            this.prerelease = prerelease\n          }\n        }\n        break\n      }\n      default:\n        throw new Error(`invalid increment argument: ${release}`)\n    }\n    this.raw = this.format()\n    if (this.build.length) {\n      this.raw += `+${this.build.join('.')}`\n    }\n    return this\n  }\n}\n\nmodule.exports = SemVer\n","const parse = require('./parse')\nconst clean = (version, options) => {\n  const s = parse(version.trim().replace(/^[=v]+/, ''), options)\n  return s ? s.version : null\n}\nmodule.exports = clean\n","const eq = require('./eq')\nconst neq = require('./neq')\nconst gt = require('./gt')\nconst gte = require('./gte')\nconst lt = require('./lt')\nconst lte = require('./lte')\n\nconst cmp = (a, op, b, loose) => {\n  switch (op) {\n    case '===':\n      if (typeof a === 'object') {\n        a = a.version\n      }\n      if (typeof b === 'object') {\n        b = b.version\n      }\n      return a === b\n\n    case '!==':\n      if (typeof a === 'object') {\n        a = a.version\n      }\n      if (typeof b === 'object') {\n        b = b.version\n      }\n      return a !== b\n\n    case '':\n    case '=':\n    case '==':\n      return eq(a, b, loose)\n\n    case '!=':\n      return neq(a, b, loose)\n\n    case '>':\n      return gt(a, b, loose)\n\n    case '>=':\n      return gte(a, b, loose)\n\n    case '<':\n      return lt(a, b, loose)\n\n    case '<=':\n      return lte(a, b, loose)\n\n    default:\n      throw new TypeError(`Invalid operator: ${op}`)\n  }\n}\nmodule.exports = cmp\n","const SemVer = require('../classes/semver')\nconst parse = require('./parse')\nconst { safeRe: re, t } = require('../internal/re')\n\nconst coerce = (version, options) => {\n  if (version instanceof SemVer) {\n    return version\n  }\n\n  if (typeof version === 'number') {\n    version = String(version)\n  }\n\n  if (typeof version !== 'string') {\n    return null\n  }\n\n  options = options || {}\n\n  let match = null\n  if (!options.rtl) {\n    match = version.match(re[t.COERCE])\n  } else {\n    // Find the right-most coercible string that does not share\n    // a terminus with a more left-ward coercible string.\n    // Eg, '1.2.3.4' wants to coerce '2.3.4', not '3.4' or '4'\n    //\n    // Walk through the string checking with a /g regexp\n    // Manually set the index so as to pick up overlapping matches.\n    // Stop when we get a match that ends at the string end, since no\n    // coercible string can be more right-ward without the same terminus.\n    let next\n    while ((next = re[t.COERCERTL].exec(version)) &&\n        (!match || match.index + match[0].length !== version.length)\n    ) {\n      if (!match ||\n            next.index + next[0].length !== match.index + match[0].length) {\n        match = next\n      }\n      re[t.COERCERTL].lastIndex = next.index + next[1].length + next[2].length\n    }\n    // leave it in a clean state\n    re[t.COERCERTL].lastIndex = -1\n  }\n\n  if (match === null) {\n    return null\n  }\n\n  return parse(`${match[2]}.${match[3] || '0'}.${match[4] || '0'}`, options)\n}\nmodule.exports = coerce\n","const SemVer = require('../classes/semver')\nconst compareBuild = (a, b, loose) => {\n  const versionA = new SemVer(a, loose)\n  const versionB = new SemVer(b, loose)\n  return versionA.compare(versionB) || versionA.compareBuild(versionB)\n}\nmodule.exports = compareBuild\n","const compare = require('./compare')\nconst compareLoose = (a, b) => compare(a, b, true)\nmodule.exports = compareLoose\n","const SemVer = require('../classes/semver')\nconst compare = (a, b, loose) =>\n  new SemVer(a, loose).compare(new SemVer(b, loose))\n\nmodule.exports = compare\n","const parse = require('./parse.js')\n\nconst diff = (version1, version2) => {\n  const v1 = parse(version1, null, true)\n  const v2 = parse(version2, null, true)\n  const comparison = v1.compare(v2)\n\n  if (comparison === 0) {\n    return null\n  }\n\n  const v1Higher = comparison > 0\n  const highVersion = v1Higher ? v1 : v2\n  const lowVersion = v1Higher ? v2 : v1\n  const highHasPre = !!highVersion.prerelease.length\n  const lowHasPre = !!lowVersion.prerelease.length\n\n  if (lowHasPre && !highHasPre) {\n    // Going from prerelease -> no prerelease requires some special casing\n\n    // If the low version has only a major, then it will always be a major\n    // Some examples:\n    // 1.0.0-1 -> 1.0.0\n    // 1.0.0-1 -> 1.1.1\n    // 1.0.0-1 -> 2.0.0\n    if (!lowVersion.patch && !lowVersion.minor) {\n      return 'major'\n    }\n\n    // Otherwise it can be determined by checking the high version\n\n    if (highVersion.patch) {\n      // anything higher than a patch bump would result in the wrong version\n      return 'patch'\n    }\n\n    if (highVersion.minor) {\n      // anything higher than a minor bump would result in the wrong version\n      return 'minor'\n    }\n\n    // bumping major/minor/patch all have same result\n    return 'major'\n  }\n\n  // add the `pre` prefix if we are going to a prerelease version\n  const prefix = highHasPre ? 'pre' : ''\n\n  if (v1.major !== v2.major) {\n    return prefix + 'major'\n  }\n\n  if (v1.minor !== v2.minor) {\n    return prefix + 'minor'\n  }\n\n  if (v1.patch !== v2.patch) {\n    return prefix + 'patch'\n  }\n\n  // high and low are preleases\n  return 'prerelease'\n}\n\nmodule.exports = diff\n","const compare = require('./compare')\nconst eq = (a, b, loose) => compare(a, b, loose) === 0\nmodule.exports = eq\n","const compare = require('./compare')\nconst gt = (a, b, loose) => compare(a, b, loose) > 0\nmodule.exports = gt\n","const compare = require('./compare')\nconst gte = (a, b, loose) => compare(a, b, loose) >= 0\nmodule.exports = gte\n","const SemVer = require('../classes/semver')\n\nconst inc = (version, release, options, identifier, identifierBase) => {\n  if (typeof (options) === 'string') {\n    identifierBase = identifier\n    identifier = options\n    options = undefined\n  }\n\n  try {\n    return new SemVer(\n      version instanceof SemVer ? version.version : version,\n      options\n    ).inc(release, identifier, identifierBase).version\n  } catch (er) {\n    return null\n  }\n}\nmodule.exports = inc\n","const compare = require('./compare')\nconst lt = (a, b, loose) => compare(a, b, loose) < 0\nmodule.exports = lt\n","const compare = require('./compare')\nconst lte = (a, b, loose) => compare(a, b, loose) <= 0\nmodule.exports = lte\n","const SemVer = require('../classes/semver')\nconst major = (a, loose) => new SemVer(a, loose).major\nmodule.exports = major\n","const SemVer = require('../classes/semver')\nconst minor = (a, loose) => new SemVer(a, loose).minor\nmodule.exports = minor\n","const compare = require('./compare')\nconst neq = (a, b, loose) => compare(a, b, loose) !== 0\nmodule.exports = neq\n","const SemVer = require('../classes/semver')\nconst parse = (version, options, throwErrors = false) => {\n  if (version instanceof SemVer) {\n    return version\n  }\n  try {\n    return new SemVer(version, options)\n  } catch (er) {\n    if (!throwErrors) {\n      return null\n    }\n    throw er\n  }\n}\n\nmodule.exports = parse\n","const SemVer = require('../classes/semver')\nconst patch = (a, loose) => new SemVer(a, loose).patch\nmodule.exports = patch\n","const parse = require('./parse')\nconst prerelease = (version, options) => {\n  const parsed = parse(version, options)\n  return (parsed && parsed.prerelease.length) ? parsed.prerelease : null\n}\nmodule.exports = prerelease\n","const compare = require('./compare')\nconst rcompare = (a, b, loose) => compare(b, a, loose)\nmodule.exports = rcompare\n","const compareBuild = require('./compare-build')\nconst rsort = (list, loose) => list.sort((a, b) => compareBuild(b, a, loose))\nmodule.exports = rsort\n","const Range = require('../classes/range')\nconst satisfies = (version, range, options) => {\n  try {\n    range = new Range(range, options)\n  } catch (er) {\n    return false\n  }\n  return range.test(version)\n}\nmodule.exports = satisfies\n","const compareBuild = require('./compare-build')\nconst sort = (list, loose) => list.sort((a, b) => compareBuild(a, b, loose))\nmodule.exports = sort\n","const parse = require('./parse')\nconst valid = (version, options) => {\n  const v = parse(version, options)\n  return v ? v.version : null\n}\nmodule.exports = valid\n","// just pre-load all the stuff that index.js lazily exports\nconst internalRe = require('./internal/re')\nconst constants = require('./internal/constants')\nconst SemVer = require('./classes/semver')\nconst identifiers = require('./internal/identifiers')\nconst parse = require('./functions/parse')\nconst valid = require('./functions/valid')\nconst clean = require('./functions/clean')\nconst inc = require('./functions/inc')\nconst diff = require('./functions/diff')\nconst major = require('./functions/major')\nconst minor = require('./functions/minor')\nconst patch = require('./functions/patch')\nconst prerelease = require('./functions/prerelease')\nconst compare = require('./functions/compare')\nconst rcompare = require('./functions/rcompare')\nconst compareLoose = require('./functions/compare-loose')\nconst compareBuild = require('./functions/compare-build')\nconst sort = require('./functions/sort')\nconst rsort = require('./functions/rsort')\nconst gt = require('./functions/gt')\nconst lt = require('./functions/lt')\nconst eq = require('./functions/eq')\nconst neq = require('./functions/neq')\nconst gte = require('./functions/gte')\nconst lte = require('./functions/lte')\nconst cmp = require('./functions/cmp')\nconst coerce = require('./functions/coerce')\nconst Comparator = require('./classes/comparator')\nconst Range = require('./classes/range')\nconst satisfies = require('./functions/satisfies')\nconst toComparators = require('./ranges/to-comparators')\nconst maxSatisfying = require('./ranges/max-satisfying')\nconst minSatisfying = require('./ranges/min-satisfying')\nconst minVersion = require('./ranges/min-version')\nconst validRange = require('./ranges/valid')\nconst outside = require('./ranges/outside')\nconst gtr = require('./ranges/gtr')\nconst ltr = require('./ranges/ltr')\nconst intersects = require('./ranges/intersects')\nconst simplifyRange = require('./ranges/simplify')\nconst subset = require('./ranges/subset')\nmodule.exports = {\n  parse,\n  valid,\n  clean,\n  inc,\n  diff,\n  major,\n  minor,\n  patch,\n  prerelease,\n  compare,\n  rcompare,\n  compareLoose,\n  compareBuild,\n  sort,\n  rsort,\n  gt,\n  lt,\n  eq,\n  neq,\n  gte,\n  lte,\n  cmp,\n  coerce,\n  Comparator,\n  Range,\n  satisfies,\n  toComparators,\n  maxSatisfying,\n  minSatisfying,\n  minVersion,\n  validRange,\n  outside,\n  gtr,\n  ltr,\n  intersects,\n  simplifyRange,\n  subset,\n  SemVer,\n  re: internalRe.re,\n  src: internalRe.src,\n  tokens: internalRe.t,\n  SEMVER_SPEC_VERSION: constants.SEMVER_SPEC_VERSION,\n  RELEASE_TYPES: constants.RELEASE_TYPES,\n  compareIdentifiers: identifiers.compareIdentifiers,\n  rcompareIdentifiers: identifiers.rcompareIdentifiers,\n}\n","// Note: this is the semver.org version of the spec that it implements\n// Not necessarily the package version of this code.\nconst SEMVER_SPEC_VERSION = '2.0.0'\n\nconst MAX_LENGTH = 256\nconst MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER ||\n/* istanbul ignore next */ 9007199254740991\n\n// Max safe segment length for coercion.\nconst MAX_SAFE_COMPONENT_LENGTH = 16\n\n// Max safe length for a build identifier. The max length minus 6 characters for\n// the shortest version with a build 0.0.0+BUILD.\nconst MAX_SAFE_BUILD_LENGTH = MAX_LENGTH - 6\n\nconst RELEASE_TYPES = [\n  'major',\n  'premajor',\n  'minor',\n  'preminor',\n  'patch',\n  'prepatch',\n  'prerelease',\n]\n\nmodule.exports = {\n  MAX_LENGTH,\n  MAX_SAFE_COMPONENT_LENGTH,\n  MAX_SAFE_BUILD_LENGTH,\n  MAX_SAFE_INTEGER,\n  RELEASE_TYPES,\n  SEMVER_SPEC_VERSION,\n  FLAG_INCLUDE_PRERELEASE: 0b001,\n  FLAG_LOOSE: 0b010,\n}\n","const debug = (\n  typeof process === 'object' &&\n  process.env &&\n  process.env.NODE_DEBUG &&\n  /\\bsemver\\b/i.test(process.env.NODE_DEBUG)\n) ? (...args) => console.error('SEMVER', ...args)\n  : () => {}\n\nmodule.exports = debug\n","const numeric = /^[0-9]+$/\nconst compareIdentifiers = (a, b) => {\n  const anum = numeric.test(a)\n  const bnum = numeric.test(b)\n\n  if (anum && bnum) {\n    a = +a\n    b = +b\n  }\n\n  return a === b ? 0\n    : (anum && !bnum) ? -1\n    : (bnum && !anum) ? 1\n    : a < b ? -1\n    : 1\n}\n\nconst rcompareIdentifiers = (a, b) => compareIdentifiers(b, a)\n\nmodule.exports = {\n  compareIdentifiers,\n  rcompareIdentifiers,\n}\n","// parse out just the options we care about\nconst looseOption = Object.freeze({ loose: true })\nconst emptyOpts = Object.freeze({ })\nconst parseOptions = options => {\n  if (!options) {\n    return emptyOpts\n  }\n\n  if (typeof options !== 'object') {\n    return looseOption\n  }\n\n  return options\n}\nmodule.exports = parseOptions\n","const {\n  MAX_SAFE_COMPONENT_LENGTH,\n  MAX_SAFE_BUILD_LENGTH,\n  MAX_LENGTH,\n} = require('./constants')\nconst debug = require('./debug')\nexports = module.exports = {}\n\n// The actual regexps go on exports.re\nconst re = exports.re = []\nconst safeRe = exports.safeRe = []\nconst src = exports.src = []\nconst t = exports.t = {}\nlet R = 0\n\nconst LETTERDASHNUMBER = '[a-zA-Z0-9-]'\n\n// Replace some greedy regex tokens to prevent regex dos issues. These regex are\n// used internally via the safeRe object since all inputs in this library get\n// normalized first to trim and collapse all extra whitespace. The original\n// regexes are exported for userland consumption and lower level usage. A\n// future breaking change could export the safer regex only with a note that\n// all input should have extra whitespace removed.\nconst safeRegexReplacements = [\n  ['\\\\s', 1],\n  ['\\\\d', MAX_LENGTH],\n  [LETTERDASHNUMBER, MAX_SAFE_BUILD_LENGTH],\n]\n\nconst makeSafeRegex = (value) => {\n  for (const [token, max] of safeRegexReplacements) {\n    value = value\n      .split(`${token}*`).join(`${token}{0,${max}}`)\n      .split(`${token}+`).join(`${token}{1,${max}}`)\n  }\n  return value\n}\n\nconst createToken = (name, value, isGlobal) => {\n  const safe = makeSafeRegex(value)\n  const index = R++\n  debug(name, index, value)\n  t[name] = index\n  src[index] = value\n  re[index] = new RegExp(value, isGlobal ? 'g' : undefined)\n  safeRe[index] = new RegExp(safe, isGlobal ? 'g' : undefined)\n}\n\n// The following Regular Expressions can be used for tokenizing,\n// validating, and parsing SemVer version strings.\n\n// ## Numeric Identifier\n// A single `0`, or a non-zero digit followed by zero or more digits.\n\ncreateToken('NUMERICIDENTIFIER', '0|[1-9]\\\\d*')\ncreateToken('NUMERICIDENTIFIERLOOSE', '\\\\d+')\n\n// ## Non-numeric Identifier\n// Zero or more digits, followed by a letter or hyphen, and then zero or\n// more letters, digits, or hyphens.\n\ncreateToken('NONNUMERICIDENTIFIER', `\\\\d*[a-zA-Z-]${LETTERDASHNUMBER}*`)\n\n// ## Main Version\n// Three dot-separated numeric identifiers.\n\ncreateToken('MAINVERSION', `(${src[t.NUMERICIDENTIFIER]})\\\\.` +\n                   `(${src[t.NUMERICIDENTIFIER]})\\\\.` +\n                   `(${src[t.NUMERICIDENTIFIER]})`)\n\ncreateToken('MAINVERSIONLOOSE', `(${src[t.NUMERICIDENTIFIERLOOSE]})\\\\.` +\n                        `(${src[t.NUMERICIDENTIFIERLOOSE]})\\\\.` +\n                        `(${src[t.NUMERICIDENTIFIERLOOSE]})`)\n\n// ## Pre-release Version Identifier\n// A numeric identifier, or a non-numeric identifier.\n\ncreateToken('PRERELEASEIDENTIFIER', `(?:${src[t.NUMERICIDENTIFIER]\n}|${src[t.NONNUMERICIDENTIFIER]})`)\n\ncreateToken('PRERELEASEIDENTIFIERLOOSE', `(?:${src[t.NUMERICIDENTIFIERLOOSE]\n}|${src[t.NONNUMERICIDENTIFIER]})`)\n\n// ## Pre-release Version\n// Hyphen, followed by one or more dot-separated pre-release version\n// identifiers.\n\ncreateToken('PRERELEASE', `(?:-(${src[t.PRERELEASEIDENTIFIER]\n}(?:\\\\.${src[t.PRERELEASEIDENTIFIER]})*))`)\n\ncreateToken('PRERELEASELOOSE', `(?:-?(${src[t.PRERELEASEIDENTIFIERLOOSE]\n}(?:\\\\.${src[t.PRERELEASEIDENTIFIERLOOSE]})*))`)\n\n// ## Build Metadata Identifier\n// Any combination of digits, letters, or hyphens.\n\ncreateToken('BUILDIDENTIFIER', `${LETTERDASHNUMBER}+`)\n\n// ## Build Metadata\n// Plus sign, followed by one or more period-separated build metadata\n// identifiers.\n\ncreateToken('BUILD', `(?:\\\\+(${src[t.BUILDIDENTIFIER]\n}(?:\\\\.${src[t.BUILDIDENTIFIER]})*))`)\n\n// ## Full Version String\n// A main version, followed optionally by a pre-release version and\n// build metadata.\n\n// Note that the only major, minor, patch, and pre-release sections of\n// the version string are capturing groups.  The build metadata is not a\n// capturing group, because it should not ever be used in version\n// comparison.\n\ncreateToken('FULLPLAIN', `v?${src[t.MAINVERSION]\n}${src[t.PRERELEASE]}?${\n  src[t.BUILD]}?`)\n\ncreateToken('FULL', `^${src[t.FULLPLAIN]}$`)\n\n// like full, but allows v1.2.3 and =1.2.3, which people do sometimes.\n// also, 1.0.0alpha1 (prerelease without the hyphen) which is pretty\n// common in the npm registry.\ncreateToken('LOOSEPLAIN', `[v=\\\\s]*${src[t.MAINVERSIONLOOSE]\n}${src[t.PRERELEASELOOSE]}?${\n  src[t.BUILD]}?`)\n\ncreateToken('LOOSE', `^${src[t.LOOSEPLAIN]}$`)\n\ncreateToken('GTLT', '((?:<|>)?=?)')\n\n// Something like \"2.*\" or \"1.2.x\".\n// Note that \"x.x\" is a valid xRange identifer, meaning \"any version\"\n// Only the first item is strictly required.\ncreateToken('XRANGEIDENTIFIERLOOSE', `${src[t.NUMERICIDENTIFIERLOOSE]}|x|X|\\\\*`)\ncreateToken('XRANGEIDENTIFIER', `${src[t.NUMERICIDENTIFIER]}|x|X|\\\\*`)\n\ncreateToken('XRANGEPLAIN', `[v=\\\\s]*(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:\\\\.(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:\\\\.(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:${src[t.PRERELEASE]})?${\n                     src[t.BUILD]}?` +\n                   `)?)?`)\n\ncreateToken('XRANGEPLAINLOOSE', `[v=\\\\s]*(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:\\\\.(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:\\\\.(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:${src[t.PRERELEASELOOSE]})?${\n                          src[t.BUILD]}?` +\n                        `)?)?`)\n\ncreateToken('XRANGE', `^${src[t.GTLT]}\\\\s*${src[t.XRANGEPLAIN]}$`)\ncreateToken('XRANGELOOSE', `^${src[t.GTLT]}\\\\s*${src[t.XRANGEPLAINLOOSE]}$`)\n\n// Coercion.\n// Extract anything that could conceivably be a part of a valid semver\ncreateToken('COERCE', `${'(^|[^\\\\d])' +\n              '(\\\\d{1,'}${MAX_SAFE_COMPONENT_LENGTH}})` +\n              `(?:\\\\.(\\\\d{1,${MAX_SAFE_COMPONENT_LENGTH}}))?` +\n              `(?:\\\\.(\\\\d{1,${MAX_SAFE_COMPONENT_LENGTH}}))?` +\n              `(?:$|[^\\\\d])`)\ncreateToken('COERCERTL', src[t.COERCE], true)\n\n// Tilde ranges.\n// Meaning is \"reasonably at or greater than\"\ncreateToken('LONETILDE', '(?:~>?)')\n\ncreateToken('TILDETRIM', `(\\\\s*)${src[t.LONETILDE]}\\\\s+`, true)\nexports.tildeTrimReplace = '$1~'\n\ncreateToken('TILDE', `^${src[t.LONETILDE]}${src[t.XRANGEPLAIN]}$`)\ncreateToken('TILDELOOSE', `^${src[t.LONETILDE]}${src[t.XRANGEPLAINLOOSE]}$`)\n\n// Caret ranges.\n// Meaning is \"at least and backwards compatible with\"\ncreateToken('LONECARET', '(?:\\\\^)')\n\ncreateToken('CARETTRIM', `(\\\\s*)${src[t.LONECARET]}\\\\s+`, true)\nexports.caretTrimReplace = '$1^'\n\ncreateToken('CARET', `^${src[t.LONECARET]}${src[t.XRANGEPLAIN]}$`)\ncreateToken('CARETLOOSE', `^${src[t.LONECARET]}${src[t.XRANGEPLAINLOOSE]}$`)\n\n// A simple gt/lt/eq thing, or just \"\" to indicate \"any version\"\ncreateToken('COMPARATORLOOSE', `^${src[t.GTLT]}\\\\s*(${src[t.LOOSEPLAIN]})$|^$`)\ncreateToken('COMPARATOR', `^${src[t.GTLT]}\\\\s*(${src[t.FULLPLAIN]})$|^$`)\n\n// An expression to strip any whitespace between the gtlt and the thing\n// it modifies, so that `> 1.2.3` ==> `>1.2.3`\ncreateToken('COMPARATORTRIM', `(\\\\s*)${src[t.GTLT]\n}\\\\s*(${src[t.LOOSEPLAIN]}|${src[t.XRANGEPLAIN]})`, true)\nexports.comparatorTrimReplace = '$1$2$3'\n\n// Something like `1.2.3 - 1.2.4`\n// Note that these all use the loose form, because they'll be\n// checked against either the strict or loose comparator form\n// later.\ncreateToken('HYPHENRANGE', `^\\\\s*(${src[t.XRANGEPLAIN]})` +\n                   `\\\\s+-\\\\s+` +\n                   `(${src[t.XRANGEPLAIN]})` +\n                   `\\\\s*$`)\n\ncreateToken('HYPHENRANGELOOSE', `^\\\\s*(${src[t.XRANGEPLAINLOOSE]})` +\n                        `\\\\s+-\\\\s+` +\n                        `(${src[t.XRANGEPLAINLOOSE]})` +\n                        `\\\\s*$`)\n\n// Star ranges basically just allow anything at all.\ncreateToken('STAR', '(<|>)?=?\\\\s*\\\\*')\n// >=0.0.0 is like a star\ncreateToken('GTE0', '^\\\\s*>=\\\\s*0\\\\.0\\\\.0\\\\s*$')\ncreateToken('GTE0PRE', '^\\\\s*>=\\\\s*0\\\\.0\\\\.0-0\\\\s*$')\n","// Determine if version is greater than all the versions possible in the range.\nconst outside = require('./outside')\nconst gtr = (version, range, options) => outside(version, range, '>', options)\nmodule.exports = gtr\n","const Range = require('../classes/range')\nconst intersects = (r1, r2, options) => {\n  r1 = new Range(r1, options)\n  r2 = new Range(r2, options)\n  return r1.intersects(r2, options)\n}\nmodule.exports = intersects\n","const outside = require('./outside')\n// Determine if version is less than all the versions possible in the range\nconst ltr = (version, range, options) => outside(version, range, '<', options)\nmodule.exports = ltr\n","const SemVer = require('../classes/semver')\nconst Range = require('../classes/range')\n\nconst maxSatisfying = (versions, range, options) => {\n  let max = null\n  let maxSV = null\n  let rangeObj = null\n  try {\n    rangeObj = new Range(range, options)\n  } catch (er) {\n    return null\n  }\n  versions.forEach((v) => {\n    if (rangeObj.test(v)) {\n      // satisfies(v, range, options)\n      if (!max || maxSV.compare(v) === -1) {\n        // compare(max, v, true)\n        max = v\n        maxSV = new SemVer(max, options)\n      }\n    }\n  })\n  return max\n}\nmodule.exports = maxSatisfying\n","const SemVer = require('../classes/semver')\nconst Range = require('../classes/range')\nconst minSatisfying = (versions, range, options) => {\n  let min = null\n  let minSV = null\n  let rangeObj = null\n  try {\n    rangeObj = new Range(range, options)\n  } catch (er) {\n    return null\n  }\n  versions.forEach((v) => {\n    if (rangeObj.test(v)) {\n      // satisfies(v, range, options)\n      if (!min || minSV.compare(v) === 1) {\n        // compare(min, v, true)\n        min = v\n        minSV = new SemVer(min, options)\n      }\n    }\n  })\n  return min\n}\nmodule.exports = minSatisfying\n","const SemVer = require('../classes/semver')\nconst Range = require('../classes/range')\nconst gt = require('../functions/gt')\n\nconst minVersion = (range, loose) => {\n  range = new Range(range, loose)\n\n  let minver = new SemVer('0.0.0')\n  if (range.test(minver)) {\n    return minver\n  }\n\n  minver = new SemVer('0.0.0-0')\n  if (range.test(minver)) {\n    return minver\n  }\n\n  minver = null\n  for (let i = 0; i < range.set.length; ++i) {\n    const comparators = range.set[i]\n\n    let setMin = null\n    comparators.forEach((comparator) => {\n      // Clone to avoid manipulating the comparator's semver object.\n      const compver = new SemVer(comparator.semver.version)\n      switch (comparator.operator) {\n        case '>':\n          if (compver.prerelease.length === 0) {\n            compver.patch++\n          } else {\n            compver.prerelease.push(0)\n          }\n          compver.raw = compver.format()\n          /* fallthrough */\n        case '':\n        case '>=':\n          if (!setMin || gt(compver, setMin)) {\n            setMin = compver\n          }\n          break\n        case '<':\n        case '<=':\n          /* Ignore maximum versions */\n          break\n        /* istanbul ignore next */\n        default:\n          throw new Error(`Unexpected operation: ${comparator.operator}`)\n      }\n    })\n    if (setMin && (!minver || gt(minver, setMin))) {\n      minver = setMin\n    }\n  }\n\n  if (minver && range.test(minver)) {\n    return minver\n  }\n\n  return null\n}\nmodule.exports = minVersion\n","const SemVer = require('../classes/semver')\nconst Comparator = require('../classes/comparator')\nconst { ANY } = Comparator\nconst Range = require('../classes/range')\nconst satisfies = require('../functions/satisfies')\nconst gt = require('../functions/gt')\nconst lt = require('../functions/lt')\nconst lte = require('../functions/lte')\nconst gte = require('../functions/gte')\n\nconst outside = (version, range, hilo, options) => {\n  version = new SemVer(version, options)\n  range = new Range(range, options)\n\n  let gtfn, ltefn, ltfn, comp, ecomp\n  switch (hilo) {\n    case '>':\n      gtfn = gt\n      ltefn = lte\n      ltfn = lt\n      comp = '>'\n      ecomp = '>='\n      break\n    case '<':\n      gtfn = lt\n      ltefn = gte\n      ltfn = gt\n      comp = '<'\n      ecomp = '<='\n      break\n    default:\n      throw new TypeError('Must provide a hilo val of \"<\" or \">\"')\n  }\n\n  // If it satisfies the range it is not outside\n  if (satisfies(version, range, options)) {\n    return false\n  }\n\n  // From now on, variable terms are as if we're in \"gtr\" mode.\n  // but note that everything is flipped for the \"ltr\" function.\n\n  for (let i = 0; i < range.set.length; ++i) {\n    const comparators = range.set[i]\n\n    let high = null\n    let low = null\n\n    comparators.forEach((comparator) => {\n      if (comparator.semver === ANY) {\n        comparator = new Comparator('>=0.0.0')\n      }\n      high = high || comparator\n      low = low || comparator\n      if (gtfn(comparator.semver, high.semver, options)) {\n        high = comparator\n      } else if (ltfn(comparator.semver, low.semver, options)) {\n        low = comparator\n      }\n    })\n\n    // If the edge version comparator has a operator then our version\n    // isn't outside it\n    if (high.operator === comp || high.operator === ecomp) {\n      return false\n    }\n\n    // If the lowest version comparator has an operator and our version\n    // is less than it then it isn't higher than the range\n    if ((!low.operator || low.operator === comp) &&\n        ltefn(version, low.semver)) {\n      return false\n    } else if (low.operator === ecomp && ltfn(version, low.semver)) {\n      return false\n    }\n  }\n  return true\n}\n\nmodule.exports = outside\n","// given a set of versions and a range, create a \"simplified\" range\n// that includes the same versions that the original range does\n// If the original range is shorter than the simplified one, return that.\nconst satisfies = require('../functions/satisfies.js')\nconst compare = require('../functions/compare.js')\nmodule.exports = (versions, range, options) => {\n  const set = []\n  let first = null\n  let prev = null\n  const v = versions.sort((a, b) => compare(a, b, options))\n  for (const version of v) {\n    const included = satisfies(version, range, options)\n    if (included) {\n      prev = version\n      if (!first) {\n        first = version\n      }\n    } else {\n      if (prev) {\n        set.push([first, prev])\n      }\n      prev = null\n      first = null\n    }\n  }\n  if (first) {\n    set.push([first, null])\n  }\n\n  const ranges = []\n  for (const [min, max] of set) {\n    if (min === max) {\n      ranges.push(min)\n    } else if (!max && min === v[0]) {\n      ranges.push('*')\n    } else if (!max) {\n      ranges.push(`>=${min}`)\n    } else if (min === v[0]) {\n      ranges.push(`<=${max}`)\n    } else {\n      ranges.push(`${min} - ${max}`)\n    }\n  }\n  const simplified = ranges.join(' || ')\n  const original = typeof range.raw === 'string' ? range.raw : String(range)\n  return simplified.length < original.length ? simplified : range\n}\n","const Range = require('../classes/range.js')\nconst Comparator = require('../classes/comparator.js')\nconst { ANY } = Comparator\nconst satisfies = require('../functions/satisfies.js')\nconst compare = require('../functions/compare.js')\n\n// Complex range `r1 || r2 || ...` is a subset of `R1 || R2 || ...` iff:\n// - Every simple range `r1, r2, ...` is a null set, OR\n// - Every simple range `r1, r2, ...` which is not a null set is a subset of\n//   some `R1, R2, ...`\n//\n// Simple range `c1 c2 ...` is a subset of simple range `C1 C2 ...` iff:\n// - If c is only the ANY comparator\n//   - If C is only the ANY comparator, return true\n//   - Else if in prerelease mode, return false\n//   - else replace c with `[>=0.0.0]`\n// - If C is only the ANY comparator\n//   - if in prerelease mode, return true\n//   - else replace C with `[>=0.0.0]`\n// - Let EQ be the set of = comparators in c\n// - If EQ is more than one, return true (null set)\n// - Let GT be the highest > or >= comparator in c\n// - Let LT be the lowest < or <= comparator in c\n// - If GT and LT, and GT.semver > LT.semver, return true (null set)\n// - If any C is a = range, and GT or LT are set, return false\n// - If EQ\n//   - If GT, and EQ does not satisfy GT, return true (null set)\n//   - If LT, and EQ does not satisfy LT, return true (null set)\n//   - If EQ satisfies every C, return true\n//   - Else return false\n// - If GT\n//   - If GT.semver is lower than any > or >= comp in C, return false\n//   - If GT is >=, and GT.semver does not satisfy every C, return false\n//   - If GT.semver has a prerelease, and not in prerelease mode\n//     - If no C has a prerelease and the GT.semver tuple, return false\n// - If LT\n//   - If LT.semver is greater than any < or <= comp in C, return false\n//   - If LT is <=, and LT.semver does not satisfy every C, return false\n//   - If GT.semver has a prerelease, and not in prerelease mode\n//     - If no C has a prerelease and the LT.semver tuple, return false\n// - Else return true\n\nconst subset = (sub, dom, options = {}) => {\n  if (sub === dom) {\n    return true\n  }\n\n  sub = new Range(sub, options)\n  dom = new Range(dom, options)\n  let sawNonNull = false\n\n  OUTER: for (const simpleSub of sub.set) {\n    for (const simpleDom of dom.set) {\n      const isSub = simpleSubset(simpleSub, simpleDom, options)\n      sawNonNull = sawNonNull || isSub !== null\n      if (isSub) {\n        continue OUTER\n      }\n    }\n    // the null set is a subset of everything, but null simple ranges in\n    // a complex range should be ignored.  so if we saw a non-null range,\n    // then we know this isn't a subset, but if EVERY simple range was null,\n    // then it is a subset.\n    if (sawNonNull) {\n      return false\n    }\n  }\n  return true\n}\n\nconst minimumVersionWithPreRelease = [new Comparator('>=0.0.0-0')]\nconst minimumVersion = [new Comparator('>=0.0.0')]\n\nconst simpleSubset = (sub, dom, options) => {\n  if (sub === dom) {\n    return true\n  }\n\n  if (sub.length === 1 && sub[0].semver === ANY) {\n    if (dom.length === 1 && dom[0].semver === ANY) {\n      return true\n    } else if (options.includePrerelease) {\n      sub = minimumVersionWithPreRelease\n    } else {\n      sub = minimumVersion\n    }\n  }\n\n  if (dom.length === 1 && dom[0].semver === ANY) {\n    if (options.includePrerelease) {\n      return true\n    } else {\n      dom = minimumVersion\n    }\n  }\n\n  const eqSet = new Set()\n  let gt, lt\n  for (const c of sub) {\n    if (c.operator === '>' || c.operator === '>=') {\n      gt = higherGT(gt, c, options)\n    } else if (c.operator === '<' || c.operator === '<=') {\n      lt = lowerLT(lt, c, options)\n    } else {\n      eqSet.add(c.semver)\n    }\n  }\n\n  if (eqSet.size > 1) {\n    return null\n  }\n\n  let gtltComp\n  if (gt && lt) {\n    gtltComp = compare(gt.semver, lt.semver, options)\n    if (gtltComp > 0) {\n      return null\n    } else if (gtltComp === 0 && (gt.operator !== '>=' || lt.operator !== '<=')) {\n      return null\n    }\n  }\n\n  // will iterate one or zero times\n  for (const eq of eqSet) {\n    if (gt && !satisfies(eq, String(gt), options)) {\n      return null\n    }\n\n    if (lt && !satisfies(eq, String(lt), options)) {\n      return null\n    }\n\n    for (const c of dom) {\n      if (!satisfies(eq, String(c), options)) {\n        return false\n      }\n    }\n\n    return true\n  }\n\n  let higher, lower\n  let hasDomLT, hasDomGT\n  // if the subset has a prerelease, we need a comparator in the superset\n  // with the same tuple and a prerelease, or it's not a subset\n  let needDomLTPre = lt &&\n    !options.includePrerelease &&\n    lt.semver.prerelease.length ? lt.semver : false\n  let needDomGTPre = gt &&\n    !options.includePrerelease &&\n    gt.semver.prerelease.length ? gt.semver : false\n  // exception: <1.2.3-0 is the same as <1.2.3\n  if (needDomLTPre && needDomLTPre.prerelease.length === 1 &&\n      lt.operator === '<' && needDomLTPre.prerelease[0] === 0) {\n    needDomLTPre = false\n  }\n\n  for (const c of dom) {\n    hasDomGT = hasDomGT || c.operator === '>' || c.operator === '>='\n    hasDomLT = hasDomLT || c.operator === '<' || c.operator === '<='\n    if (gt) {\n      if (needDomGTPre) {\n        if (c.semver.prerelease && c.semver.prerelease.length &&\n            c.semver.major === needDomGTPre.major &&\n            c.semver.minor === needDomGTPre.minor &&\n            c.semver.patch === needDomGTPre.patch) {\n          needDomGTPre = false\n        }\n      }\n      if (c.operator === '>' || c.operator === '>=') {\n        higher = higherGT(gt, c, options)\n        if (higher === c && higher !== gt) {\n          return false\n        }\n      } else if (gt.operator === '>=' && !satisfies(gt.semver, String(c), options)) {\n        return false\n      }\n    }\n    if (lt) {\n      if (needDomLTPre) {\n        if (c.semver.prerelease && c.semver.prerelease.length &&\n            c.semver.major === needDomLTPre.major &&\n            c.semver.minor === needDomLTPre.minor &&\n            c.semver.patch === needDomLTPre.patch) {\n          needDomLTPre = false\n        }\n      }\n      if (c.operator === '<' || c.operator === '<=') {\n        lower = lowerLT(lt, c, options)\n        if (lower === c && lower !== lt) {\n          return false\n        }\n      } else if (lt.operator === '<=' && !satisfies(lt.semver, String(c), options)) {\n        return false\n      }\n    }\n    if (!c.operator && (lt || gt) && gtltComp !== 0) {\n      return false\n    }\n  }\n\n  // if there was a < or >, and nothing in the dom, then must be false\n  // UNLESS it was limited by another range in the other direction.\n  // Eg, >1.0.0 <1.0.1 is still a subset of <2.0.0\n  if (gt && hasDomLT && !lt && gtltComp !== 0) {\n    return false\n  }\n\n  if (lt && hasDomGT && !gt && gtltComp !== 0) {\n    return false\n  }\n\n  // we needed a prerelease range in a specific tuple, but didn't get one\n  // then this isn't a subset.  eg >=1.2.3-pre is not a subset of >=1.0.0,\n  // because it includes prereleases in the 1.2.3 tuple\n  if (needDomGTPre || needDomLTPre) {\n    return false\n  }\n\n  return true\n}\n\n// >=1.2.3 is lower than >1.2.3\nconst higherGT = (a, b, options) => {\n  if (!a) {\n    return b\n  }\n  const comp = compare(a.semver, b.semver, options)\n  return comp > 0 ? a\n    : comp < 0 ? b\n    : b.operator === '>' && a.operator === '>=' ? b\n    : a\n}\n\n// <=1.2.3 is higher than <1.2.3\nconst lowerLT = (a, b, options) => {\n  if (!a) {\n    return b\n  }\n  const comp = compare(a.semver, b.semver, options)\n  return comp < 0 ? a\n    : comp > 0 ? b\n    : b.operator === '<' && a.operator === '<=' ? b\n    : a\n}\n\nmodule.exports = subset\n","const Range = require('../classes/range')\n\n// Mostly just for testing and legacy API reasons\nconst toComparators = (range, options) =>\n  new Range(range, options).set\n    .map(comp => comp.map(c => c.value).join(' ').trim().split(' '))\n\nmodule.exports = toComparators\n","const Range = require('../classes/range')\nconst validRange = (range, options) => {\n  try {\n    // Return '*' instead of '' so that truthiness works.\n    // This will throw if it's invalid anyway\n    return new Range(range, options).range || '*'\n  } catch (er) {\n    return null\n  }\n}\nmodule.exports = validRange\n","export type TraceContext = Record<string, unknown>;\nexport type LogData = any;\nexport type LogType = string;\n\n/**\n * A Log object\n */\nexport interface Log {\n  /**\n   * A namespaced identifier of the log (not a level like \"debug\", \"error\" but more like \"apdu\", \"hw\", etc...)\n   */\n  type: LogType;\n  message?: string;\n  /**\n   * Data associated to the log event\n   */\n  data?: LogData;\n  /**\n   * Context data, coming for example from the caller's parent, to enable a simple tracing system\n   */\n  context?: TraceContext;\n  /**\n   * Unique id among all logs\n   */\n  id: string;\n  /*\n   * Date when the log occurred\n   */\n  date: Date;\n}\n\nexport type Unsubscribe = () => void;\nexport type Subscriber = (arg0: Log) => void;\n\nlet id = 0;\nconst subscribers: Subscriber[] = [];\n\n/**\n * Logs something\n *\n * @param type a namespaced identifier of the log (it is not a level like \"debug\", \"error\" but more like \"apdu-in\", \"apdu-out\", etc...)\n * @param message a clear message of the log associated to the type\n */\nexport const log = (type: LogType, message?: string, data?: LogData) => {\n  const obj: Log = {\n    type,\n    id: String(++id),\n    date: new Date(),\n  };\n  if (message) obj.message = message;\n  if (data) obj.data = data;\n  dispatch(obj);\n};\n\n/**\n * A simple tracer function, only expanding the existing log function\n *\n * Its goal is to capture more context than a log function.\n * This is simple for now, but can be improved later.\n *\n * @param context Anything representing the context where the log occurred\n */\nexport const trace = ({\n  type,\n  message,\n  data,\n  context,\n}: {\n  type: LogType;\n  message?: string;\n  data?: LogData;\n  context?: TraceContext;\n}) => {\n  const obj: Log = {\n    type,\n    id: String(++id),\n    date: new Date(),\n  };\n\n  if (message) obj.message = message;\n  if (data) obj.data = data;\n  if (context) obj.context = context;\n\n  dispatch(obj);\n};\n\n/**\n * A simple tracer class, that can be used to avoid repetition when using the `trace` function\n *\n * Its goal is to capture more context than a log function.\n * This is simple for now, but can be improved later.\n *\n * @param type A given type (not level) for the current local tracer (\"hw\", \"withDevice\", etc.)\n * @param context Anything representing the context where the log occurred\n */\nexport class LocalTracer {\n  constructor(\n    private type: LogType,\n    private context?: TraceContext,\n  ) {}\n\n  trace(message: string, data?: TraceContext) {\n    trace({\n      type: this.type,\n      message,\n      data,\n      context: this.context,\n    });\n  }\n\n  getContext(): TraceContext | undefined {\n    return this.context;\n  }\n\n  setContext(context?: TraceContext) {\n    this.context = context;\n  }\n\n  updateContext(contextToAdd: TraceContext) {\n    this.context = { ...this.context, ...contextToAdd };\n  }\n\n  getType(): LogType {\n    return this.type;\n  }\n\n  setType(type: LogType) {\n    this.type = type;\n  }\n\n  /**\n   * Create a new instance of the LocalTracer with an updated `type`\n   *\n   * It does not mutate the calling instance, but returns a new LocalTracer,\n   * following a simple builder pattern.\n   */\n  withType(type: LogType): LocalTracer {\n    return new LocalTracer(type, this.context);\n  }\n\n  /**\n   * Create a new instance of the LocalTracer with a new `context`\n   *\n   * It does not mutate the calling instance, but returns a new LocalTracer,\n   * following a simple builder pattern.\n   *\n   * @param context A TraceContext, that can undefined to reset the context\n   */\n  withContext(context?: TraceContext): LocalTracer {\n    return new LocalTracer(this.type, context);\n  }\n\n  /**\n   * Create a new instance of the LocalTracer with an updated `context`,\n   * on which an additional context is merged with the existing one.\n   *\n   * It does not mutate the calling instance, but returns a new LocalTracer,\n   * following a simple builder pattern.\n   */\n  withUpdatedContext(contextToAdd: TraceContext): LocalTracer {\n    return new LocalTracer(this.type, { ...this.context, ...contextToAdd });\n  }\n}\n\n/**\n * Adds a subscribers to the emitted logs.\n *\n * @param cb that is called for each future log() with the Log object\n * @return a function that can be called to unsubscribe the listener\n */\nexport const listen = (cb: Subscriber): Unsubscribe => {\n  subscribers.push(cb);\n  return () => {\n    const i = subscribers.indexOf(cb);\n\n    if (i !== -1) {\n      // equivalent of subscribers.splice(i, 1) // https://twitter.com/Rich_Harris/status/1125850391155965952\n      subscribers[i] = subscribers[subscribers.length - 1];\n      subscribers.pop();\n    }\n  };\n};\n\nfunction dispatch(log: Log) {\n  for (let i = 0; i < subscribers.length; i++) {\n    try {\n      subscribers[i](log);\n    } catch (e) {\n      console.error(e);\n    }\n  }\n}\n\n// for debug purpose\n\ndeclare global {\n  interface Window {\n    __ledgerLogsListen: any;\n  }\n}\n\nif (typeof window !== \"undefined\") {\n  window.__ledgerLogsListen = listen;\n}\n","import EventEmitter from \"events\";\nimport type { DeviceModel } from \"@ledgerhq/devices\";\nimport {\n  TransportRaceCondition,\n  TransportError,\n  StatusCodes,\n  getAltStatusMessage,\n  TransportStatusError,\n} from \"@ledgerhq/errors\";\nimport { LocalTracer, TraceContext, LogType } from \"@ledgerhq/logs\";\nexport { TransportError, TransportStatusError, StatusCodes, getAltStatusMessage };\n\nconst DEFAULT_LOG_TYPE = \"transport\";\n\n/**\n */\nexport type Subscription = {\n  unsubscribe: () => void;\n};\n\n/**\n */\nexport type Device = any; // Should be a union type of all possible Device object's shape\n\nexport type DescriptorEventType = \"add\" | \"remove\";\n/**\n * A \"descriptor\" is a parameter that is specific to the implementation, and can be an ID, file path, or URL.\n * type: add or remove event\n * descriptor: a parameter that can be passed to open(descriptor)\n * deviceModel: device info on the model (is it a nano s, nano x, ...)\n * device: transport specific device info\n */\nexport interface DescriptorEvent<Descriptor> {\n  type: DescriptorEventType;\n  descriptor: Descriptor;\n  deviceModel?: DeviceModel | null | undefined;\n  device?: Device;\n}\n\n/**\n * Observer generic type, following the Observer pattern\n */\nexport type Observer<EventType, EventError = unknown> = Readonly<{\n  next: (event: EventType) => unknown;\n  error: (e: EventError) => unknown;\n  complete: () => unknown;\n}>;\n\n/**\n * The Transport class defines a generic interface for communicating with a Ledger hardware wallet.\n * There are different kind of transports based on the technology (channels like U2F, HID, Bluetooth, Webusb) and environment (Node, Web,...).\n * It is an abstract class that needs to be implemented.\n */\nexport default class Transport {\n  exchangeTimeout = 30000;\n  unresponsiveTimeout = 15000;\n  deviceModel: DeviceModel | null | undefined = null;\n  tracer: LocalTracer;\n\n  constructor({ context, logType }: { context?: TraceContext; logType?: LogType } = {}) {\n    this.tracer = new LocalTracer(logType ?? DEFAULT_LOG_TYPE, context);\n  }\n\n  /**\n   * Check if the transport is supported on the current platform/browser.\n   * @returns {Promise<boolean>} A promise that resolves with a boolean indicating support.\n   */\n  static readonly isSupported: () => Promise<boolean>;\n\n  /**\n   * List all available descriptors for the transport.\n   * For a better granularity, checkout `listen()`.\n   *\n   * @returns {Promise<Array<any>>} A promise that resolves with an array of descriptors.\n   * @example\n   * TransportFoo.list().then(descriptors => ...)\n   */\n  static readonly list: () => Promise<Array<any>>;\n\n  /**\n   * Listen for device events for the transport. The method takes an observer of DescriptorEvent and returns a Subscription.\n   * A DescriptorEvent is an object containing a \"descriptor\" and a \"type\" field. The \"type\" field can be \"add\" or \"remove\", and the \"descriptor\" field can be passed to the \"open\" method.\n   * The \"listen\" method will first emit all currently connected devices and then will emit events as they occur, such as when a USB device is plugged in or a Bluetooth device becomes discoverable.\n   * @param {Observer<DescriptorEvent<any>>} observer - An object with \"next\", \"error\", and \"complete\" functions, following the observer pattern.\n   * @returns {Subscription} A Subscription object on which you can call \".unsubscribe()\" to stop listening to descriptors.\n   * @example\n  const sub = TransportFoo.listen({\n  next: e => {\n    if (e.type===\"add\") {\n      sub.unsubscribe();\n      const transport = await TransportFoo.open(e.descriptor);\n      ...\n    }\n  },\n  error: error => {},\n  complete: () => {}\n  })\n   */\n  static readonly listen: (observer: Observer<DescriptorEvent<any>>) => Subscription;\n\n  /**\n   * Attempt to create a Transport instance with a specific descriptor.\n   * @param {any} descriptor - The descriptor to open the transport with.\n   * @param {number} timeout - An optional timeout for the transport connection.\n   * @param {TraceContext} context Optional tracing/log context\n   * @returns {Promise<Transport>} A promise that resolves with a Transport instance.\n   * @example\n  TransportFoo.open(descriptor).then(transport => ...)\n   */\n  static readonly open: (\n    descriptor?: any,\n    timeoutMs?: number,\n    context?: TraceContext,\n  ) => Promise<Transport>;\n\n  /**\n   * Send data to the device using a low level API.\n   * It's recommended to use the \"send\" method for a higher level API.\n   * @param {Buffer} apdu - The data to send.\n   * @param {Object} options - Contains optional options for the exchange function\n   *  - abortTimeoutMs: stop the exchange after a given timeout. Another timeout exists\n   *    to detect unresponsive device (see `unresponsiveTimeout`). This timeout aborts the exchange.\n   * @returns {Promise<Buffer>} A promise that resolves with the response data from the device.\n   */\n  exchange(\n    _apdu: Buffer,\n    { abortTimeoutMs: _abortTimeoutMs }: { abortTimeoutMs?: number } = {},\n  ): Promise<Buffer> {\n    throw new Error(\"exchange not implemented\");\n  }\n\n  /**\n   * Send apdus in batch to the device using a low level API.\n   * The default implementation is to call exchange for each apdu.\n   * @param {Array<Buffer>} apdus - array of apdus to send.\n   * @param {Observer<Buffer>} observer - an observer that will receive the response of each apdu.\n   * @returns {Subscription} A Subscription object on which you can call \".unsubscribe()\" to stop sending apdus.\n   */\n  exchangeBulk(apdus: Buffer[], observer: Observer<Buffer>): Subscription {\n    let unsubscribed = false;\n    const unsubscribe = () => {\n      unsubscribed = true;\n    };\n\n    const main = async () => {\n      if (unsubscribed) return;\n      for (const apdu of apdus) {\n        const r = await this.exchange(apdu);\n        if (unsubscribed) return;\n        const status = r.readUInt16BE(r.length - 2);\n        if (status !== StatusCodes.OK) {\n          throw new TransportStatusError(status);\n        }\n        observer.next(r);\n      }\n    };\n\n    main().then(\n      () => !unsubscribed && observer.complete(),\n      e => !unsubscribed && observer.error(e),\n    );\n\n    return { unsubscribe };\n  }\n\n  /**\n   * Set the \"scramble key\" for the next data exchanges with the device.\n   * Each app can have a different scramble key and it is set internally during instantiation.\n   * @param {string} key - The scramble key to set.\n   * deprecated This method is no longer needed for modern transports and should be migrated away from.\n   * no @ before deprecated as it breaks documentationjs on version 14.0.2\n   * https://github.com/documentationjs/documentation/issues/1596\n   */\n  setScrambleKey(_key: string) {}\n\n  /**\n   * Close the connection with the device.\n   * @returns {Promise<void>} A promise that resolves when the transport is closed.\n   */\n  close(): Promise<void> {\n    return Promise.resolve();\n  }\n\n  _events = new EventEmitter();\n\n  /**\n   * Listen for an event on the transport instance.\n   * Transport implementations may have specific events. Common events include:\n   * \"disconnect\" : triggered when the transport is disconnected.\n   * @param {string} eventName - The name of the event to listen for.\n   * @param {(...args: Array<any>) => any} cb - The callback function to be invoked when the event occurs.\n   */\n  on(eventName: string, cb: (...args: Array<any>) => any): void {\n    this._events.on(eventName, cb);\n  }\n\n  /**\n   * Stop listening to an event on an instance of transport.\n   */\n  off(eventName: string, cb: (...args: Array<any>) => any): void {\n    this._events.removeListener(eventName, cb);\n  }\n\n  emit(event: string, ...args: any): void {\n    this._events.emit(event, ...args);\n  }\n\n  /**\n   * Enable or not logs of the binary exchange\n   */\n  setDebugMode() {\n    console.warn(\n      \"setDebugMode is deprecated. use @ledgerhq/logs instead. No logs are emitted in this anymore.\",\n    );\n  }\n\n  /**\n   * Set a timeout (in milliseconds) for the exchange call. Only some transport might implement it. (e.g. U2F)\n   */\n  setExchangeTimeout(exchangeTimeout: number): void {\n    this.exchangeTimeout = exchangeTimeout;\n  }\n\n  /**\n   * Define the delay before emitting \"unresponsive\" on an exchange that does not respond\n   */\n  setExchangeUnresponsiveTimeout(unresponsiveTimeout: number): void {\n    this.unresponsiveTimeout = unresponsiveTimeout;\n  }\n\n  /**\n   * Send data to the device using the higher level API.\n   *\n   * @param {number} cla - The instruction class for the command.\n   * @param {number} ins - The instruction code for the command.\n   * @param {number} p1 - The first parameter for the instruction.\n   * @param {number} p2 - The second parameter for the instruction.\n   * @param {Buffer} data - The data to be sent. Defaults to an empty buffer.\n   * @param {Array<number>} statusList - A list of acceptable status codes for the response. Defaults to [StatusCodes.OK].\n   * @param {Object} options - Contains optional options for the exchange function\n   *  - abortTimeoutMs: stop the send after a given timeout. Another timeout exists\n   *    to detect unresponsive device (see `unresponsiveTimeout`). This timeout aborts the exchange.\n   * @returns {Promise<Buffer>} A promise that resolves with the response data from the device.\n   */\n  send = async (\n    cla: number,\n    ins: number,\n    p1: number,\n    p2: number,\n    data: Buffer = Buffer.alloc(0),\n    statusList: Array<number> = [StatusCodes.OK],\n    { abortTimeoutMs }: { abortTimeoutMs?: number } = {},\n  ): Promise<Buffer> => {\n    const tracer = this.tracer.withUpdatedContext({ function: \"send\" });\n\n    if (data.length >= 256) {\n      tracer.trace(\"data.length exceeded 256 bytes limit\", { dataLength: data.length });\n      throw new TransportError(\n        \"data.length exceed 256 bytes limit. Got: \" + data.length,\n        \"DataLengthTooBig\",\n      );\n    }\n\n    tracer.trace(\"Starting an exchange\", { abortTimeoutMs });\n    const response = await this.exchange(\n      // The size of the data is added in 1 byte just before `data`\n      Buffer.concat([Buffer.from([cla, ins, p1, p2]), Buffer.from([data.length]), data]),\n      { abortTimeoutMs },\n    );\n    tracer.trace(\"Received response from exchange\");\n    const sw = response.readUInt16BE(response.length - 2);\n\n    if (!statusList.some(s => s === sw)) {\n      throw new TransportStatusError(sw);\n    }\n\n    return response;\n  };\n\n  /**\n   * create() allows to open the first descriptor available or\n   * throw if there is none or if timeout is reached.\n   * This is a light helper, alternative to using listen() and open() (that you may need for any more advanced usecase)\n   * @example\n  TransportFoo.create().then(transport => ...)\n   */\n  static create(openTimeout = 3000, listenTimeout?: number): Promise<Transport> {\n    return new Promise((resolve, reject) => {\n      let found = false;\n      const sub = this.listen({\n        next: e => {\n          found = true;\n          if (sub) sub.unsubscribe();\n          if (listenTimeoutId) clearTimeout(listenTimeoutId);\n          this.open(e.descriptor, openTimeout).then(resolve, reject);\n        },\n        error: e => {\n          if (listenTimeoutId) clearTimeout(listenTimeoutId);\n          reject(e);\n        },\n        complete: () => {\n          if (listenTimeoutId) clearTimeout(listenTimeoutId);\n\n          if (!found) {\n            reject(new TransportError(this.ErrorMessage_NoDeviceFound, \"NoDeviceFound\"));\n          }\n        },\n      });\n      const listenTimeoutId = listenTimeout\n        ? setTimeout(() => {\n            sub.unsubscribe();\n            reject(new TransportError(this.ErrorMessage_ListenTimeout, \"ListenTimeout\"));\n          }, listenTimeout)\n        : null;\n    });\n  }\n\n  // Blocks other exchange to happen concurrently\n  exchangeBusyPromise: Promise<void> | null | undefined;\n\n  /**\n   * Wrapper to make an exchange \"atomic\" (blocking any other exchange)\n   *\n   * It also handles \"unresponsiveness\" by emitting \"unresponsive\" and \"responsive\" events.\n   *\n   * @param f The exchange job, using the transport to run\n   * @returns a Promise resolving with the output of the given job\n   */\n  async exchangeAtomicImpl<Output>(f: () => Promise<Output>): Promise<Output> {\n    const tracer = this.tracer.withUpdatedContext({ function: \"exchangeAtomicImpl\" });\n    tracer.trace(\"Starting an atomic APDU exchange\", {\n      unresponsiveTimeout: this.unresponsiveTimeout,\n    });\n\n    if (this.exchangeBusyPromise) {\n      tracer.trace(\"Atomic exchange is already busy\");\n      throw new TransportRaceCondition(\n        \"An action was already pending on the Ledger device. Please deny or reconnect.\",\n      );\n    }\n\n    // Sets the atomic guard\n    let resolveBusy;\n    const busyPromise: Promise<void> = new Promise(r => {\n      resolveBusy = r;\n    });\n    this.exchangeBusyPromise = busyPromise;\n\n    // The device unresponsiveness handler\n    let unresponsiveReached = false;\n    const timeout = setTimeout(() => {\n      tracer.trace(`Timeout reached, emitting Transport event \"unresponsive\"`, {\n        unresponsiveTimeout: this.unresponsiveTimeout,\n      });\n      unresponsiveReached = true;\n      this.emit(\"unresponsive\");\n    }, this.unresponsiveTimeout);\n\n    try {\n      const res = await f();\n\n      if (unresponsiveReached) {\n        tracer.trace(\"Device was unresponsive, emitting responsive\");\n        this.emit(\"responsive\");\n      }\n\n      return res;\n    } finally {\n      tracer.trace(\"Finalize, clearing busy guard\");\n\n      clearTimeout(timeout);\n      if (resolveBusy) resolveBusy();\n      this.exchangeBusyPromise = null;\n    }\n  }\n\n  decorateAppAPIMethods(self: Record<string, any>, methods: Array<string>, scrambleKey: string) {\n    for (const methodName of methods) {\n      self[methodName] = this.decorateAppAPIMethod(methodName, self[methodName], self, scrambleKey);\n    }\n  }\n\n  _appAPIlock: string | null = null;\n\n  decorateAppAPIMethod<R, A extends any[]>(\n    methodName: string,\n    f: (...args: A) => Promise<R>,\n    ctx: any,\n    scrambleKey: string,\n  ): (...args: A) => Promise<R> {\n    return async (...args) => {\n      const { _appAPIlock } = this;\n\n      if (_appAPIlock) {\n        return Promise.reject(\n          new TransportError(\"Ledger Device is busy (lock \" + _appAPIlock + \")\", \"TransportLocked\"),\n        );\n      }\n\n      try {\n        this._appAPIlock = methodName;\n        this.setScrambleKey(scrambleKey);\n        return await f.apply(ctx, args);\n      } finally {\n        this._appAPIlock = null;\n      }\n    };\n  }\n\n  /**\n   * Sets the context used by the logging/tracing mechanism\n   *\n   * Useful when re-using (cached) the same Transport instance,\n   * but with a new tracing context.\n   *\n   * @param context A TraceContext, that can undefined to reset the context\n   */\n  setTraceContext(context?: TraceContext) {\n    this.tracer = this.tracer.withContext(context);\n  }\n\n  /**\n   * Updates the context used by the logging/tracing mechanism\n   *\n   * The update only overrides the key-value that are already defined in the current context.\n   *\n   * @param contextToAdd A TraceContext that will be added to the current context\n   */\n  updateTraceContext(contextToAdd: TraceContext) {\n    this.tracer.updateContext(contextToAdd);\n  }\n\n  /**\n   * Gets the tracing context of the transport instance\n   */\n  getTraceContext(): TraceContext | undefined {\n    return this.tracer.getContext();\n  }\n\n  static ErrorMessage_ListenTimeout = \"No Ledger device found (timeout)\";\n  static ErrorMessage_NoDeviceFound = \"No Ledger device found\";\n}\n","import semver from \"semver\";\n\n/**\n * The USB product IDs will be defined as MMII, encoding a model (MM) and an interface bitfield (II)\n *\n ** Model\n * Ledger Nano S : 0x10\n * Ledger Blue : 0x00\n * Ledger Nano X : 0x40\n *\n ** Interface support bitfield\n * Generic HID : 0x01\n * Keyboard HID : 0x02\n * U2F : 0x04\n * CCID : 0x08\n * WebUSB : 0x10\n */\nexport const IIGenericHID = 0x01;\nexport const IIKeyboardHID = 0x02;\nexport const IIU2F = 0x04;\nexport const IICCID = 0x08;\nexport const IIWebUSB = 0x10;\n\nexport enum DeviceModelId {\n  blue = \"blue\",\n  nanoS = \"nanoS\",\n  nanoSP = \"nanoSP\",\n  nanoX = \"nanoX\",\n  nanoFTS = \"nanoFTS\",\n}\n\nconst devices: { [key in DeviceModelId]: DeviceModel } = {\n  [DeviceModelId.blue]: {\n    id: DeviceModelId.blue,\n    productName: \"LedgerBlue\",\n    productIdMM: 0x00,\n    legacyUsbProductId: 0x0000,\n    usbOnly: true,\n    memorySize: 480 * 1024,\n    masks: [0x31000000, 0x31010000],\n    getBlockSize: (_firwareVersion: string): number => 4 * 1024,\n  },\n  [DeviceModelId.nanoS]: {\n    id: DeviceModelId.nanoS,\n    productName: \"LedgerNanoS\",\n    productIdMM: 0x10,\n    legacyUsbProductId: 0x0001,\n    usbOnly: true,\n    memorySize: 320 * 1024,\n    masks: [0x31100000],\n    getBlockSize: (firmwareVersion: string): number =>\n      semver.lt(semver.coerce(firmwareVersion) ?? \"\", \"2.0.0\")\n        ? 4 * 1024\n        : 2 * 1024,\n  },\n  [DeviceModelId.nanoSP]: {\n    id: DeviceModelId.nanoSP,\n    productName: \"Ledger Nano S Plus\",\n    productIdMM: 0x50,\n    legacyUsbProductId: 0x0005,\n    usbOnly: true,\n    memorySize: 1536 * 1024,\n    masks: [0x33100000],\n    getBlockSize: (_firmwareVersion: string): number => 32,\n  },\n  [DeviceModelId.nanoX]: {\n    id: DeviceModelId.nanoX,\n    productName: \"LedgerNanoX\",\n    productIdMM: 0x40,\n    legacyUsbProductId: 0x0004,\n    usbOnly: false,\n    memorySize: 2 * 1024 * 1024,\n    masks: [0x33000000],\n    getBlockSize: (_firwareVersion: string): number => 4 * 1024,\n    bluetoothSpec: [\n      {\n        serviceUuid: \"13d63400-2c97-0004-0000-4c6564676572\",\n        notifyUuid: \"13d63400-2c97-0004-0001-4c6564676572\",\n        writeUuid: \"13d63400-2c97-0004-0002-4c6564676572\",\n        writeCmdUuid: \"13d63400-2c97-0004-0003-4c6564676572\",\n      },\n    ],\n  },\n  [DeviceModelId.nanoFTS]: {\n    id: DeviceModelId.nanoFTS,\n    productName: \"LedgerNanoFTS\",\n    productIdMM: 0x60,\n    legacyUsbProductId: 0x0006,\n    usbOnly: false,\n    memorySize: 2 * 1024 * 1024, //   TODO Update with actual values\n    masks: [0x33200000],\n    getBlockSize: (_firwareVersion: string): number => 4 * 1024,\n    bluetoothSpec: [\n      {\n        serviceUuid: \"13d63400-2c97-6004-0000-4c6564676572\",\n        notifyUuid: \"13d63400-2c97-6004-0001-4c6564676572\",\n        writeUuid: \"13d63400-2c97-6004-0002-4c6564676572\",\n        writeCmdUuid: \"13d63400-2c97-6004-0003-4c6564676572\",\n      },\n    ],\n  },\n};\n\nconst productMap = {\n  Blue: DeviceModelId.blue,\n  \"Nano S\": DeviceModelId.nanoS,\n  \"Nano S Plus\": DeviceModelId.nanoSP,\n  \"Nano X\": DeviceModelId.nanoX,\n  \"Nano FTS\": DeviceModelId.nanoFTS,\n};\n\nconst devicesList: DeviceModel[] = Object.values(devices);\n\n/**\n *\n */\nexport const ledgerUSBVendorId = 0x2c97;\n\n/**\n *\n */\nexport const getDeviceModel = (id: DeviceModelId): DeviceModel => {\n  const info = devices[id];\n  if (!info) throw new Error(\"device '\" + id + \"' does not exist\");\n  return info;\n};\n\n/**\n * Given a `targetId`, return the deviceModel associated to it,\n * based on the first two bytes.\n */\nexport const identifyTargetId = (\n  targetId: number\n): DeviceModel | null | undefined => {\n  const deviceModel = devicesList.find(({ masks }) =>\n    masks.find((mask) => (targetId & 0xffff0000) === mask)\n  );\n\n  return deviceModel;\n};\n\n/**\n *\n */\nexport const identifyUSBProductId = (\n  usbProductId: number\n): DeviceModel | null | undefined => {\n  const legacy = devicesList.find((d) => d.legacyUsbProductId === usbProductId);\n  if (legacy) return legacy;\n  const mm = usbProductId >> 8;\n  const deviceModel = devicesList.find((d) => d.productIdMM === mm);\n  return deviceModel;\n};\n\nexport const identifyProductName = (\n  productName: string\n): DeviceModel | null | undefined => {\n  const deviceModel = devicesList.find((d) => d.id === productMap[productName]);\n  return deviceModel;\n};\n\nconst bluetoothServices: string[] = [];\nconst serviceUuidToInfos: Record<string, BluetoothInfos> = {};\n\nfor (const id in devices) {\n  const deviceModel = devices[id];\n  const { bluetoothSpec } = deviceModel;\n  if (bluetoothSpec) {\n    for (let i = 0; i < bluetoothSpec.length; i++) {\n      const spec = bluetoothSpec[i];\n      bluetoothServices.push(spec.serviceUuid);\n      serviceUuidToInfos[spec.serviceUuid] = serviceUuidToInfos[\n        spec.serviceUuid.replace(/-/g, \"\")\n      ] = {\n        deviceModel,\n        ...spec,\n      };\n    }\n  }\n}\n\n/**\n *\n */\nexport const getBluetoothServiceUuids = (): string[] => bluetoothServices;\n\n/**\n *\n */\nexport const getInfosForServiceUuid = (\n  uuid: string\n): BluetoothInfos | undefined => serviceUuidToInfos[uuid.toLowerCase()];\n\n/**\n *\n */\nexport interface DeviceModel {\n  id: DeviceModelId;\n  productName: string;\n  productIdMM: number;\n  legacyUsbProductId: number;\n  usbOnly: boolean;\n  memorySize: number;\n  masks: number[];\n  // blockSize: number, // THIS FIELD IS DEPRECATED, use getBlockSize\n  getBlockSize: (firmwareVersion: string) => number;\n  bluetoothSpec?: {\n    serviceUuid: string;\n    writeUuid: string;\n    writeCmdUuid: string;\n    notifyUuid: string;\n  }[];\n}\n\n/**\n *\n */\nexport interface BluetoothInfos {\n  deviceModel: DeviceModel;\n  serviceUuid: string;\n  writeUuid: string;\n  writeCmdUuid: string;\n  notifyUuid: string;\n}\n","import Transport from \"@ledgerhq/hw-transport\";\nimport type {\n  Observer,\n  DescriptorEvent,\n  Subscription,\n} from \"@ledgerhq/hw-transport\";\nimport hidFraming from \"@ledgerhq/devices/lib/hid-framing\";\nimport { identifyUSBProductId, ledgerUSBVendorId } from \"@ledgerhq/devices\";\nimport type { DeviceModel } from \"@ledgerhq/devices\";\nimport { log } from \"@ledgerhq/logs\";\nimport {\n  TransportOpenUserCancelled,\n  DisconnectedDeviceDuringOperation,\n  DisconnectedDevice,\n  TransportError,\n} from \"@ledgerhq/errors\";\n\nconst ledgerDevices = [\n  {\n    vendorId: ledgerUSBVendorId,\n  },\n];\n\nconst isSupported = () =>\n  Promise.resolve(!!(window.navigator && window.navigator.hid));\n\nconst getHID = (): HID => {\n  // $FlowFixMe\n  const { hid } = navigator;\n  if (!hid)\n    throw new TransportError(\n      \"navigator.hid is not supported\",\n      \"HIDNotSupported\"\n    );\n  return hid;\n};\n\nasync function requestLedgerDevices(): Promise<HIDDevice[]> {\n  const device = await getHID().requestDevice({\n    filters: ledgerDevices,\n  });\n  if (Array.isArray(device)) return device;\n  return [device];\n}\n\nasync function getLedgerDevices(): Promise<HIDDevice[]> {\n  const devices = await getHID().getDevices();\n  return devices.filter((d) => d.vendorId === ledgerUSBVendorId);\n}\n\nasync function getFirstLedgerDevice(): Promise<HIDDevice> {\n  const existingDevices = await getLedgerDevices();\n  if (existingDevices.length > 0) return existingDevices[0];\n  const devices = await requestLedgerDevices();\n  return devices[0];\n}\n/**\n * WebHID Transport implementation\n * @example\n * import TransportWebHID from \"@ledgerhq/hw-transport-webhid\";\n * ...\n * TransportWebHID.create().then(transport => ...)\n */\n\nexport default class TransportWebHID extends Transport {\n  device: HIDDevice;\n  deviceModel: DeviceModel | null | undefined;\n  channel = Math.floor(Math.random() * 0xffff);\n  packetSize = 64;\n\n  constructor(device: HIDDevice) {\n    super();\n    this.device = device;\n    this.deviceModel =\n      typeof device.productId === \"number\"\n        ? identifyUSBProductId(device.productId)\n        : undefined;\n    device.addEventListener(\"inputreport\", this.onInputReport);\n  }\n\n  inputs: Buffer[] = [];\n  inputCallback: ((arg0: Buffer) => void) | null | undefined;\n  read = (): Promise<Buffer> => {\n    if (this.inputs.length) {\n      return Promise.resolve((this.inputs.shift() as unknown) as Buffer);\n    }\n\n    return new Promise((success) => {\n      this.inputCallback = success;\n    });\n  };\n  onInputReport = (e: HIDInputReportEvent) => {\n    const buffer = Buffer.from(e.data.buffer);\n\n    if (this.inputCallback) {\n      this.inputCallback(buffer);\n      this.inputCallback = null;\n    } else {\n      this.inputs.push(buffer);\n    }\n  };\n\n  /**\n   * Check if WebUSB transport is supported.\n   */\n  static isSupported = isSupported;\n\n  /**\n   * List the WebUSB devices that was previously authorized by the user.\n   */\n  static list = getLedgerDevices;\n\n  /**\n   * Actively listen to WebUSB devices and emit ONE device\n   * that was either accepted before, if not it will trigger the native permission UI.\n   *\n   * Important: it must be called in the context of a UI click!\n   */\n  static listen = (\n    observer: Observer<DescriptorEvent<HIDDevice>>\n  ): Subscription => {\n    let unsubscribed = false;\n    getFirstLedgerDevice().then(\n      (device) => {\n        if (!device) {\n          observer.error(\n            new TransportOpenUserCancelled(\"Access denied to use Ledger device\")\n          );\n        } else if (!unsubscribed) {\n          const deviceModel =\n            typeof device.productId === \"number\"\n              ? identifyUSBProductId(device.productId)\n              : undefined;\n          observer.next({\n            type: \"add\",\n            descriptor: device,\n            deviceModel,\n          });\n          observer.complete();\n        }\n      },\n      (error) => {\n        observer.error(new TransportOpenUserCancelled(error.message));\n      }\n    );\n\n    function unsubscribe() {\n      unsubscribed = true;\n    }\n\n    return {\n      unsubscribe,\n    };\n  };\n\n  /**\n   * Similar to create() except it will always display the device permission (even if some devices are already accepted).\n   */\n  static async request() {\n    const [device] = await requestLedgerDevices();\n    return TransportWebHID.open(device);\n  }\n\n  /**\n   * Similar to create() except it will never display the device permission (it returns a Promise<?Transport>, null if it fails to find a device).\n   */\n  static async openConnected() {\n    const devices = await getLedgerDevices();\n    if (devices.length === 0) return null;\n    return TransportWebHID.open(devices[0]);\n  }\n\n  /**\n   * Create a Ledger transport with a HIDDevice\n   */\n  static async open(device: HIDDevice) {\n    await device.open();\n    const transport = new TransportWebHID(device);\n\n    const onDisconnect = (e) => {\n      if (device === e.device) {\n        getHID().removeEventListener(\"disconnect\", onDisconnect);\n\n        transport._emitDisconnect(new DisconnectedDevice());\n      }\n    };\n\n    getHID().addEventListener(\"disconnect\", onDisconnect);\n    return transport;\n  }\n\n  _disconnectEmitted = false;\n  _emitDisconnect = (e: Error) => {\n    if (this._disconnectEmitted) return;\n    this._disconnectEmitted = true;\n    this.emit(\"disconnect\", e);\n  };\n\n  /**\n   * Release the transport device\n   */\n  async close(): Promise<void> {\n    await this.exchangeBusyPromise;\n    this.device.removeEventListener(\"inputreport\", this.onInputReport);\n    await this.device.close();\n  }\n\n  /**\n   * Exchange with the device using APDU protocol.\n   * @param apdu\n   * @returns a promise of apdu response\n   */\n  exchange = async (apdu: Buffer): Promise<Buffer> => {\n    const b = await this.exchangeAtomicImpl(async () => {\n      const { channel, packetSize } = this;\n      log(\"apdu\", \"=> \" + apdu.toString(\"hex\"));\n      const framing = hidFraming(channel, packetSize);\n      // Write...\n      const blocks = framing.makeBlocks(apdu);\n\n      for (let i = 0; i < blocks.length; i++) {\n        await this.device.sendReport(0, blocks[i]);\n      }\n\n      // Read...\n      let result;\n      let acc;\n\n      while (!(result = framing.getReducedResult(acc))) {\n        const buffer = await this.read();\n        acc = framing.reduceResponse(acc, buffer);\n      }\n\n      log(\"apdu\", \"<= \" + result.toString(\"hex\"));\n      return result;\n    }).catch((e) => {\n      if (e && e.message && e.message.includes(\"write\")) {\n        this._emitDisconnect(e);\n\n        throw new DisconnectedDeviceDuringOperation(e.message);\n      }\n\n      throw e;\n    });\n    return b as Buffer;\n  };\n\n  setScrambleKey() {}\n}\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","'use strict'\nmodule.exports = function (Yallist) {\n  Yallist.prototype[Symbol.iterator] = function* () {\n    for (let walker = this.head; walker; walker = walker.next) {\n      yield walker.value\n    }\n  }\n}\n","'use strict'\nmodule.exports = Yallist\n\nYallist.Node = Node\nYallist.create = Yallist\n\nfunction Yallist (list) {\n  var self = this\n  if (!(self instanceof Yallist)) {\n    self = new Yallist()\n  }\n\n  self.tail = null\n  self.head = null\n  self.length = 0\n\n  if (list && typeof list.forEach === 'function') {\n    list.forEach(function (item) {\n      self.push(item)\n    })\n  } else if (arguments.length > 0) {\n    for (var i = 0, l = arguments.length; i < l; i++) {\n      self.push(arguments[i])\n    }\n  }\n\n  return self\n}\n\nYallist.prototype.removeNode = function (node) {\n  if (node.list !== this) {\n    throw new Error('removing node which does not belong to this list')\n  }\n\n  var next = node.next\n  var prev = node.prev\n\n  if (next) {\n    next.prev = prev\n  }\n\n  if (prev) {\n    prev.next = next\n  }\n\n  if (node === this.head) {\n    this.head = next\n  }\n  if (node === this.tail) {\n    this.tail = prev\n  }\n\n  node.list.length--\n  node.next = null\n  node.prev = null\n  node.list = null\n\n  return next\n}\n\nYallist.prototype.unshiftNode = function (node) {\n  if (node === this.head) {\n    return\n  }\n\n  if (node.list) {\n    node.list.removeNode(node)\n  }\n\n  var head = this.head\n  node.list = this\n  node.next = head\n  if (head) {\n    head.prev = node\n  }\n\n  this.head = node\n  if (!this.tail) {\n    this.tail = node\n  }\n  this.length++\n}\n\nYallist.prototype.pushNode = function (node) {\n  if (node === this.tail) {\n    return\n  }\n\n  if (node.list) {\n    node.list.removeNode(node)\n  }\n\n  var tail = this.tail\n  node.list = this\n  node.prev = tail\n  if (tail) {\n    tail.next = node\n  }\n\n  this.tail = node\n  if (!this.head) {\n    this.head = node\n  }\n  this.length++\n}\n\nYallist.prototype.push = function () {\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    push(this, arguments[i])\n  }\n  return this.length\n}\n\nYallist.prototype.unshift = function () {\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    unshift(this, arguments[i])\n  }\n  return this.length\n}\n\nYallist.prototype.pop = function () {\n  if (!this.tail) {\n    return undefined\n  }\n\n  var res = this.tail.value\n  this.tail = this.tail.prev\n  if (this.tail) {\n    this.tail.next = null\n  } else {\n    this.head = null\n  }\n  this.length--\n  return res\n}\n\nYallist.prototype.shift = function () {\n  if (!this.head) {\n    return undefined\n  }\n\n  var res = this.head.value\n  this.head = this.head.next\n  if (this.head) {\n    this.head.prev = null\n  } else {\n    this.tail = null\n  }\n  this.length--\n  return res\n}\n\nYallist.prototype.forEach = function (fn, thisp) {\n  thisp = thisp || this\n  for (var walker = this.head, i = 0; walker !== null; i++) {\n    fn.call(thisp, walker.value, i, this)\n    walker = walker.next\n  }\n}\n\nYallist.prototype.forEachReverse = function (fn, thisp) {\n  thisp = thisp || this\n  for (var walker = this.tail, i = this.length - 1; walker !== null; i--) {\n    fn.call(thisp, walker.value, i, this)\n    walker = walker.prev\n  }\n}\n\nYallist.prototype.get = function (n) {\n  for (var i = 0, walker = this.head; walker !== null && i < n; i++) {\n    // abort out of the list early if we hit a cycle\n    walker = walker.next\n  }\n  if (i === n && walker !== null) {\n    return walker.value\n  }\n}\n\nYallist.prototype.getReverse = function (n) {\n  for (var i = 0, walker = this.tail; walker !== null && i < n; i++) {\n    // abort out of the list early if we hit a cycle\n    walker = walker.prev\n  }\n  if (i === n && walker !== null) {\n    return walker.value\n  }\n}\n\nYallist.prototype.map = function (fn, thisp) {\n  thisp = thisp || this\n  var res = new Yallist()\n  for (var walker = this.head; walker !== null;) {\n    res.push(fn.call(thisp, walker.value, this))\n    walker = walker.next\n  }\n  return res\n}\n\nYallist.prototype.mapReverse = function (fn, thisp) {\n  thisp = thisp || this\n  var res = new Yallist()\n  for (var walker = this.tail; walker !== null;) {\n    res.push(fn.call(thisp, walker.value, this))\n    walker = walker.prev\n  }\n  return res\n}\n\nYallist.prototype.reduce = function (fn, initial) {\n  var acc\n  var walker = this.head\n  if (arguments.length > 1) {\n    acc = initial\n  } else if (this.head) {\n    walker = this.head.next\n    acc = this.head.value\n  } else {\n    throw new TypeError('Reduce of empty list with no initial value')\n  }\n\n  for (var i = 0; walker !== null; i++) {\n    acc = fn(acc, walker.value, i)\n    walker = walker.next\n  }\n\n  return acc\n}\n\nYallist.prototype.reduceReverse = function (fn, initial) {\n  var acc\n  var walker = this.tail\n  if (arguments.length > 1) {\n    acc = initial\n  } else if (this.tail) {\n    walker = this.tail.prev\n    acc = this.tail.value\n  } else {\n    throw new TypeError('Reduce of empty list with no initial value')\n  }\n\n  for (var i = this.length - 1; walker !== null; i--) {\n    acc = fn(acc, walker.value, i)\n    walker = walker.prev\n  }\n\n  return acc\n}\n\nYallist.prototype.toArray = function () {\n  var arr = new Array(this.length)\n  for (var i = 0, walker = this.head; walker !== null; i++) {\n    arr[i] = walker.value\n    walker = walker.next\n  }\n  return arr\n}\n\nYallist.prototype.toArrayReverse = function () {\n  var arr = new Array(this.length)\n  for (var i = 0, walker = this.tail; walker !== null; i++) {\n    arr[i] = walker.value\n    walker = walker.prev\n  }\n  return arr\n}\n\nYallist.prototype.slice = function (from, to) {\n  to = to || this.length\n  if (to < 0) {\n    to += this.length\n  }\n  from = from || 0\n  if (from < 0) {\n    from += this.length\n  }\n  var ret = new Yallist()\n  if (to < from || to < 0) {\n    return ret\n  }\n  if (from < 0) {\n    from = 0\n  }\n  if (to > this.length) {\n    to = this.length\n  }\n  for (var i = 0, walker = this.head; walker !== null && i < from; i++) {\n    walker = walker.next\n  }\n  for (; walker !== null && i < to; i++, walker = walker.next) {\n    ret.push(walker.value)\n  }\n  return ret\n}\n\nYallist.prototype.sliceReverse = function (from, to) {\n  to = to || this.length\n  if (to < 0) {\n    to += this.length\n  }\n  from = from || 0\n  if (from < 0) {\n    from += this.length\n  }\n  var ret = new Yallist()\n  if (to < from || to < 0) {\n    return ret\n  }\n  if (from < 0) {\n    from = 0\n  }\n  if (to > this.length) {\n    to = this.length\n  }\n  for (var i = this.length, walker = this.tail; walker !== null && i > to; i--) {\n    walker = walker.prev\n  }\n  for (; walker !== null && i > from; i--, walker = walker.prev) {\n    ret.push(walker.value)\n  }\n  return ret\n}\n\nYallist.prototype.splice = function (start, deleteCount, ...nodes) {\n  if (start > this.length) {\n    start = this.length - 1\n  }\n  if (start < 0) {\n    start = this.length + start;\n  }\n\n  for (var i = 0, walker = this.head; walker !== null && i < start; i++) {\n    walker = walker.next\n  }\n\n  var ret = []\n  for (var i = 0; walker && i < deleteCount; i++) {\n    ret.push(walker.value)\n    walker = this.removeNode(walker)\n  }\n  if (walker === null) {\n    walker = this.tail\n  }\n\n  if (walker !== this.head && walker !== this.tail) {\n    walker = walker.prev\n  }\n\n  for (var i = 0; i < nodes.length; i++) {\n    walker = insert(this, walker, nodes[i])\n  }\n  return ret;\n}\n\nYallist.prototype.reverse = function () {\n  var head = this.head\n  var tail = this.tail\n  for (var walker = head; walker !== null; walker = walker.prev) {\n    var p = walker.prev\n    walker.prev = walker.next\n    walker.next = p\n  }\n  this.head = tail\n  this.tail = head\n  return this\n}\n\nfunction insert (self, node, value) {\n  var inserted = node === self.head ?\n    new Node(value, null, node, self) :\n    new Node(value, node, node.next, self)\n\n  if (inserted.next === null) {\n    self.tail = inserted\n  }\n  if (inserted.prev === null) {\n    self.head = inserted\n  }\n\n  self.length++\n\n  return inserted\n}\n\nfunction push (self, item) {\n  self.tail = new Node(item, self.tail, null, self)\n  if (!self.head) {\n    self.head = self.tail\n  }\n  self.length++\n}\n\nfunction unshift (self, item) {\n  self.head = new Node(item, null, self.head, self)\n  if (!self.tail) {\n    self.tail = self.head\n  }\n  self.length++\n}\n\nfunction Node (value, prev, next, list) {\n  if (!(this instanceof Node)) {\n    return new Node(value, prev, next, list)\n  }\n\n  this.list = list\n  this.value = value\n\n  if (prev) {\n    prev.next = this\n    this.prev = prev\n  } else {\n    this.prev = null\n  }\n\n  if (next) {\n    next.prev = this\n    this.next = next\n  } else {\n    this.next = null\n  }\n}\n\ntry {\n  // add if support for Symbol.iterator is present\n  require('./iterator.js')(Yallist)\n} catch (er) {}\n"],"names":["errors_1","require","asUInt16BE","value","b","Buffer","alloc","writeUInt16BE","initialAcc","data","dataLength","sequence","exports","channel","packetSize","makeBlocks","apdu","concat","length","blockSize","nbBlocks","Math","ceil","fill","blocks","i","head","writeUInt8","chunk","slice","push","reduceResponse","acc","_a","readUInt16BE","TransportError","readUInt8","chunkData","getReducedResult","Yallist","MAX","Symbol","LENGTH","LENGTH_CALCULATOR","ALLOW_STALE","MAX_AGE","DISPOSE","NO_DISPOSE_ON_SET","LRU_LIST","CACHE","UPDATE_AGE_ON_GET","naiveLength","get","self","key","doUse","node","hit","isStale","del","now","Date","unshiftNode","maxAge","diff","trim","walker","tail","prev","delete","removeNode","Entry","constructor","this","forEachStep","fn","thisp","undefined","call","module","options","max","TypeError","Infinity","lc","stale","dispose","noDisposeOnSet","updateAgeOnGet","reset","mL","allowStale","mA","lengthCalculator","lC","forEach","itemCount","rforEach","next","keys","toArray","map","k","values","Map","dump","v","e","filter","h","dumpLru","set","len","has","item","unshift","peek","pop","load","arr","l","expiresAt","prune","ANY","Comparator","comp","parseOptions","loose","split","join","debug","parse","semver","operator","version","r","re","t","COMPARATORLOOSE","COMPARATOR","m","match","SemVer","toString","test","er","cmp","intersects","Range","includePrerelease","startsWith","includes","safeRe","range","raw","format","parseRange","c","first","isNullSet","isAny","comps","memoKey","FLAG_INCLUDE_PRERELEASE","FLAG_LOOSE","cached","cache","hr","HYPHENRANGELOOSE","HYPHENRANGE","replace","hyphenReplace","COMPARATORTRIM","comparatorTrimReplace","TILDETRIM","tildeTrimReplace","CARETTRIM","caretTrimReplace","rangeList","parseComparator","replaceGTE0","rangeMap","comparators","size","result","some","thisComparators","isSatisfiable","rangeComparators","every","thisComparator","rangeComparator","testSet","remainingComparators","testComparator","otherComparator","replaceCarets","replaceTildes","replaceXRanges","replaceStars","isX","id","toLowerCase","replaceTilde","TILDELOOSE","TILDE","_","M","p","pr","ret","replaceCaret","CARETLOOSE","CARET","z","replaceXRange","XRANGELOOSE","XRANGE","gtlt","xM","xm","xp","anyX","STAR","GTE0PRE","GTE0","incPr","$0","from","fM","fm","fp","fpr","fb","to","tM","tm","tp","tpr","tb","prerelease","allowed","major","minor","patch","MAX_LENGTH","MAX_SAFE_INTEGER","compareIdentifiers","LOOSE","FULL","num","build","compare","other","compareMain","comparePre","a","compareBuild","inc","release","identifier","identifierBase","base","Number","Error","isNaN","clean","s","eq","neq","gt","gte","lt","lte","op","coerce","String","rtl","COERCERTL","exec","index","lastIndex","COERCE","versionA","versionB","compareLoose","version1","version2","v1","v2","comparison","v1Higher","highVersion","lowVersion","highHasPre","prefix","throwErrors","arguments","parsed","rcompare","rsort","list","sort","satisfies","valid","internalRe","constants","identifiers","toComparators","maxSatisfying","minSatisfying","minVersion","validRange","outside","gtr","ltr","simplifyRange","subset","src","tokens","SEMVER_SPEC_VERSION","RELEASE_TYPES","rcompareIdentifiers","MAX_SAFE_COMPONENT_LENGTH","MAX_SAFE_BUILD_LENGTH","process","NODE_DEBUG","_len","args","Array","_key","console","error","numeric","anum","bnum","looseOption","Object","freeze","emptyOpts","R","LETTERDASHNUMBER","safeRegexReplacements","createToken","name","isGlobal","safe","token","makeSafeRegex","RegExp","NUMERICIDENTIFIER","NUMERICIDENTIFIERLOOSE","NONNUMERICIDENTIFIER","PRERELEASEIDENTIFIER","PRERELEASEIDENTIFIERLOOSE","BUILDIDENTIFIER","MAINVERSION","PRERELEASE","BUILD","FULLPLAIN","MAINVERSIONLOOSE","PRERELEASELOOSE","LOOSEPLAIN","XRANGEIDENTIFIER","XRANGEIDENTIFIERLOOSE","GTLT","XRANGEPLAIN","XRANGEPLAINLOOSE","LONETILDE","LONECARET","r1","r2","versions","maxSV","rangeObj","min","minSV","minver","setMin","comparator","compver","hilo","gtfn","ltefn","ltfn","ecomp","high","low","ranges","simplified","original","minimumVersionWithPreRelease","minimumVersion","simpleSubset","sub","dom","eqSet","Set","gtltComp","higher","lower","hasDomLT","hasDomGT","higherGT","lowerLT","add","needDomLTPre","needDomGTPre","sawNonNull","OUTER","simpleSub","simpleDom","isSub","subscribers","log","type","message","obj","date","dispatch","LocalTracer","context","trace","_ref","getContext","setContext","updateContext","contextToAdd","assign","getType","setType","withType","withContext","withUpdatedContext","listen","cb","indexOf","window","__ledgerLogsListen","Transport","_this","logType","exchangeTimeout","unresponsiveTimeout","deviceModel","_events","EventEmitter","send","cla","ins","p1","p2","statusList","StatusCodes","OK","abortTimeoutMs","__awaiter","tracer","function","response","exchange","sw","TransportStatusError","_appAPIlock","_apdu","_abortTimeoutMs","exchangeBulk","apdus","observer","unsubscribed","main","status","then","complete","unsubscribe","setScrambleKey","close","Promise","resolve","on","eventName","off","removeListener","emit","event","_key2","setDebugMode","warn","setExchangeTimeout","setExchangeUnresponsiveTimeout","create","openTimeout","listenTimeout","reject","found","listenTimeoutId","clearTimeout","open","descriptor","ErrorMessage_NoDeviceFound","setTimeout","ErrorMessage_ListenTimeout","exchangeAtomicImpl","f","exchangeBusyPromise","TransportRaceCondition","resolveBusy","busyPromise","unresponsiveReached","timeout","res","decorateAppAPIMethods","methods","scrambleKey","methodName","decorateAppAPIMethod","ctx","_this2","_len2","_key3","apply","setTraceContext","updateTraceContext","getTraceContext","DeviceModelId","devices","blue","productName","productIdMM","legacyUsbProductId","usbOnly","memorySize","masks","getBlockSize","_firwareVersion","nanoS","firmwareVersion","nanoSP","_firmwareVersion","nanoX","bluetoothSpec","serviceUuid","notifyUuid","writeUuid","writeCmdUuid","nanoFTS","devicesList","ledgerUSBVendorId","identifyUSBProductId","usbProductId","legacy","find","d","mm","bluetoothServices","serviceUuidToInfos","spec","__assign","ledgerDevices","vendorId","isSupported","navigator","hid","getHID","requestLedgerDevices","requestDevice","filters","device","sent","isArray","getLedgerDevices","getDevices","TransportWebHID","_super","floor","random","inputs","read","shift","success","inputCallback","onInputReport","buffer","_disconnectEmitted","_emitDisconnect","framing","hidFraming","sendReport","_b","DisconnectedDeviceDuringOperation","productId","addEventListener","__extends","request","__read","openConnected","transport","onDisconnect","removeEventListener","DisconnectedDevice","prototype","existingDevices","getFirstLedgerDevice","TransportOpenUserCancelled","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","fun","currentQueue","queue","draining","queueIndex","cleanUpNextTick","drainQueue","run","marker","runClearTimeout","Item","array","noop","nextTick","title","browser","env","argv","addListener","once","removeAllListeners","prependListener","prependOnceListener","listeners","binding","cwd","chdir","dir","umask","iterator","insert","inserted","Node","pushNode","forEachReverse","n","getReverse","mapReverse","reduce","initial","reduceReverse","toArrayReverse","sliceReverse","splice","start","deleteCount","reverse"],"sourceRoot":""}